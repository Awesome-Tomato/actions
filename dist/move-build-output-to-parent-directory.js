(()=>{var e={5265:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.issue=t.issueCommand=void 0;const i=s(r(2037)),a=r(4570);function u(e,t,r){const n=new c(e,t,r);process.stdout.write(n.toString()+i.EOL)}t.issueCommand=u,t.issue=function(e,t=""){u(e,{},t)};class c{constructor(e,t,r){e||(e="missing.command"),this.command=e,this.properties=t,this.message=r}toString(){let e="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(const n in this.properties)if(this.properties.hasOwnProperty(n)){const o=this.properties[n];o&&(r?r=!1:e+=",",e+=`${n}=${t=o,a.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}`)}}var t;return e+=`::${function(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}(this.message)}`,e}}},2225:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=r(5265),u=r(3108),c=r(4570),d=s(r(2037)),l=s(r(1017)),p=r(1526);var h;function f(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&!1===t.trimWhitespace?r:r.trim()}function m(e,t={}){a.issueCommand("error",c.toCommandProperties(t),e instanceof Error?e.toString():e)}function v(e){a.issue("group",e)}function g(){a.issue("endgroup")}!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(h=t.ExitCode||(t.ExitCode={})),t.exportVariable=function(e,t){const r=c.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV){const t="_GitHubActionsFileCommandDelimeter_",n=`${e}<<${t}${d.EOL}${r}${d.EOL}${t}`;u.issueCommand("ENV",n)}else a.issueCommand("set-env",{name:e},r)},t.setSecret=function(e){a.issueCommand("add-mask",{},e)},t.addPath=function(e){process.env.GITHUB_PATH?u.issueCommand("PATH",e):a.issueCommand("add-path",{},e),process.env.PATH=`${e}${l.delimiter}${process.env.PATH}`},t.getInput=f,t.getMultilineInput=function(e,t){return f(e,t).split("\n").filter((e=>""!==e))},t.getBooleanInput=function(e,t){const r=f(e,t);if(["true","True","TRUE"].includes(r))return!0;if(["false","False","FALSE"].includes(r))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\nSupport boolean input list: \`true | True | TRUE | false | False | FALSE\``)},t.setOutput=function(e,t){process.stdout.write(d.EOL),a.issueCommand("set-output",{name:e},t)},t.setCommandEcho=function(e){a.issue("echo",e?"on":"off")},t.setFailed=function(e){process.exitCode=h.Failure,m(e)},t.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},t.debug=function(e){a.issueCommand("debug",{},e)},t.error=m,t.warning=function(e,t={}){a.issueCommand("warning",c.toCommandProperties(t),e instanceof Error?e.toString():e)},t.notice=function(e,t={}){a.issueCommand("notice",c.toCommandProperties(t),e instanceof Error?e.toString():e)},t.info=function(e){process.stdout.write(e+d.EOL)},t.startGroup=v,t.endGroup=g,t.group=function(e,t){return i(this,void 0,void 0,(function*(){let r;v(e);try{r=yield t()}finally{g()}return r}))},t.saveState=function(e,t){a.issueCommand("save-state",{name:e},t)},t.getState=function(e){return process.env[`STATE_${e}`]||""},t.getIDToken=function(e){return i(this,void 0,void 0,(function*(){return yield p.OidcClient.getIDToken(e)}))};var w=r(7410);Object.defineProperty(t,"summary",{enumerable:!0,get:function(){return w.summary}});var y=r(7410);Object.defineProperty(t,"markdownSummary",{enumerable:!0,get:function(){return y.markdownSummary}})},3108:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.issueCommand=void 0;const i=s(r(7147)),a=s(r(2037)),u=r(4570);t.issueCommand=function(e,t){const r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!i.existsSync(r))throw new Error(`Missing file at path: ${r}`);i.appendFileSync(r,`${u.toCommandValue(t)}${a.EOL}`,{encoding:"utf8"})}},1526:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;const o=r(4635),s=r(2429),i=r(2225);class a{static createHttpClient(e=!0,t=10){const r={allowRetries:e,maxRetries:t};return new o.HttpClient("actions/oidc-client",[new s.BearerCredentialHandler(a.getRequestToken())],r)}static getRequestToken(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var t;return n(this,void 0,void 0,(function*(){const r=a.createHttpClient(),n=yield r.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)})),o=null===(t=n.result)||void 0===t?void 0:t.value;if(!o)throw new Error("Response json body do not have ID Token field");return o}))}static getIDToken(e){return n(this,void 0,void 0,(function*(){try{let t=a.getIDTokenUrl();e&&(t=`${t}&audience=${encodeURIComponent(e)}`),i.debug(`ID token url is ${t}`);const r=yield a.getCall(t);return i.setSecret(r),r}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=a},7410:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const o=r(2037),s=r(7147),{access:i,appendFile:a,writeFile:u}=s.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";const c=new class{constructor(){this._buffer=""}filePath(){return n(this,void 0,void 0,(function*(){if(this._filePath)return this._filePath;const e=process.env[t.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield i(e,s.constants.R_OK|s.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath}))}wrap(e,t,r={}){const n=Object.entries(r).map((([e,t])=>` ${e}="${t}"`)).join("");return t?`<${e}${n}>${t}</${e}>`:`<${e}${n}>`}write(e){return n(this,void 0,void 0,(function*(){const t=!!(null==e?void 0:e.overwrite),r=yield this.filePath(),n=t?u:a;return yield n(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()}))}clear(){return n(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:!0})}))}stringify(){return this._buffer}isEmptyBuffer(){return 0===this._buffer.length}emptyBuffer(){return this._buffer="",this}addRaw(e,t=!1){return this._buffer+=e,t?this.addEOL():this}addEOL(){return this.addRaw(o.EOL)}addCodeBlock(e,t){const r=Object.assign({},t&&{lang:t}),n=this.wrap("pre",this.wrap("code",e),r);return this.addRaw(n).addEOL()}addList(e,t=!1){const r=t?"ol":"ul",n=e.map((e=>this.wrap("li",e))).join(""),o=this.wrap(r,n);return this.addRaw(o).addEOL()}addTable(e){const t=e.map((e=>{const t=e.map((e=>{if("string"==typeof e)return this.wrap("td",e);const{header:t,data:r,colspan:n,rowspan:o}=e,s=t?"th":"td",i=Object.assign(Object.assign({},n&&{colspan:n}),o&&{rowspan:o});return this.wrap(s,r,i)})).join("");return this.wrap("tr",t)})).join(""),r=this.wrap("table",t);return this.addRaw(r).addEOL()}addDetails(e,t){const r=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(r).addEOL()}addImage(e,t,r){const{width:n,height:o}=r||{},s=Object.assign(Object.assign({},n&&{width:n}),o&&{height:o}),i=this.wrap("img",null,Object.assign({src:e,alt:t},s));return this.addRaw(i).addEOL()}addHeading(e,t){const r=`h${t}`,n=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",o=this.wrap(n,e);return this.addRaw(o).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const r=Object.assign({},t&&{cite:t}),n=this.wrap("blockquote",e,r);return this.addRaw(n).addEOL()}addLink(e,t){const r=this.wrap("a",e,{href:t});return this.addRaw(r).addEOL()}};t.markdownSummary=c,t.summary=c},4570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCommandProperties=t.toCommandValue=void 0,t.toCommandValue=function(e){return null==e?"":"string"==typeof e||e instanceof String?e:JSON.stringify(e)},t.toCommandProperties=function(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}},2429:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0,t.BasicCredentialHandler=class{constructor(e,t){this.username=e,this.password=t}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}},t.BearerCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}},t.PersonalAccessTokenCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}},4635:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const a=s(r(3685)),u=s(r(5687)),c=s(r(7960)),d=s(r(6149));var l,p,h;!function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"}(l=t.HttpCodes||(t.HttpCodes={})),function(e){e.Accept="accept",e.ContentType="content-type"}(p=t.Headers||(t.Headers={})),function(e){e.ApplicationJson="application/json"}(h=t.MediaTypes||(t.MediaTypes={})),t.getProxyUrl=function(e){const t=c.getProxyUrl(new URL(e));return t?t.href:""};const f=[l.MovedPermanently,l.ResourceMoved,l.SeeOther,l.TemporaryRedirect,l.PermanentRedirect],m=[l.BadGateway,l.ServiceUnavailable,l.GatewayTimeout],v=["OPTIONS","GET","DELETE","HEAD"];class g extends Error{constructor(e,t){super(e),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,g.prototype)}}t.HttpClientError=g;class w{constructor(e){this.message=e}readBody(){return i(this,void 0,void 0,(function*(){return new Promise((e=>i(this,void 0,void 0,(function*(){let t=Buffer.alloc(0);this.message.on("data",(e=>{t=Buffer.concat([t,e])})),this.message.on("end",(()=>{e(t.toString())}))}))))}))}}t.HttpClientResponse=w,t.isHttps=function(e){return"https:"===new URL(e).protocol},t.HttpClient=class{constructor(e,t,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=t||[],this.requestOptions=r,r&&(null!=r.ignoreSslError&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,null!=r.allowRedirects&&(this._allowRedirects=r.allowRedirects),null!=r.allowRedirectDowngrade&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),null!=r.maxRedirects&&(this._maxRedirects=Math.max(r.maxRedirects,0)),null!=r.keepAlive&&(this._keepAlive=r.keepAlive),null!=r.allowRetries&&(this._allowRetries=r.allowRetries),null!=r.maxRetries&&(this._maxRetries=r.maxRetries))}options(e,t){return i(this,void 0,void 0,(function*(){return this.request("OPTIONS",e,null,t||{})}))}get(e,t){return i(this,void 0,void 0,(function*(){return this.request("GET",e,null,t||{})}))}del(e,t){return i(this,void 0,void 0,(function*(){return this.request("DELETE",e,null,t||{})}))}post(e,t,r){return i(this,void 0,void 0,(function*(){return this.request("POST",e,t,r||{})}))}patch(e,t,r){return i(this,void 0,void 0,(function*(){return this.request("PATCH",e,t,r||{})}))}put(e,t,r){return i(this,void 0,void 0,(function*(){return this.request("PUT",e,t,r||{})}))}head(e,t){return i(this,void 0,void 0,(function*(){return this.request("HEAD",e,null,t||{})}))}sendStream(e,t,r,n){return i(this,void 0,void 0,(function*(){return this.request(e,t,r,n)}))}getJson(e,t={}){return i(this,void 0,void 0,(function*(){t[p.Accept]=this._getExistingOrDefaultHeader(t,p.Accept,h.ApplicationJson);const r=yield this.get(e,t);return this._processResponse(r,this.requestOptions)}))}postJson(e,t,r={}){return i(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,h.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,h.ApplicationJson);const o=yield this.post(e,n,r);return this._processResponse(o,this.requestOptions)}))}putJson(e,t,r={}){return i(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,h.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,h.ApplicationJson);const o=yield this.put(e,n,r);return this._processResponse(o,this.requestOptions)}))}patchJson(e,t,r={}){return i(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,h.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,h.ApplicationJson);const o=yield this.patch(e,n,r);return this._processResponse(o,this.requestOptions)}))}request(e,t,r,n){return i(this,void 0,void 0,(function*(){if(this._disposed)throw new Error("Client has already been disposed.");const o=new URL(t);let s=this._prepareRequest(e,o,n);const i=this._allowRetries&&v.includes(e)?this._maxRetries+1:1;let a,u=0;do{if(a=yield this.requestRaw(s,r),a&&a.message&&a.message.statusCode===l.Unauthorized){let e;for(const t of this.handlers)if(t.canHandleAuthentication(a)){e=t;break}return e?e.handleAuthentication(this,s,r):a}let t=this._maxRedirects;for(;a.message.statusCode&&f.includes(a.message.statusCode)&&this._allowRedirects&&t>0;){const i=a.message.headers.location;if(!i)break;const u=new URL(i);if("https:"===o.protocol&&o.protocol!==u.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield a.readBody(),u.hostname!==o.hostname)for(const e in n)"authorization"===e.toLowerCase()&&delete n[e];s=this._prepareRequest(e,u,n),a=yield this.requestRaw(s,r),t--}if(!a.message.statusCode||!m.includes(a.message.statusCode))return a;u+=1,u<i&&(yield a.readBody(),yield this._performExponentialBackoff(u))}while(u<i);return a}))}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,t){return i(this,void 0,void 0,(function*(){return new Promise(((r,n)=>{this.requestRawWithCallback(e,t,(function(e,t){e?n(e):t?r(t):n(new Error("Unknown error"))}))}))}))}requestRawWithCallback(e,t,r){"string"==typeof t&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let n=!1;function o(e,t){n||(n=!0,r(e,t))}const s=e.httpModule.request(e.options,(e=>{o(void 0,new w(e))}));let i;s.on("socket",(e=>{i=e})),s.setTimeout(this._socketTimeout||18e4,(()=>{i&&i.end(),o(new Error(`Request timeout: ${e.options.path}`))})),s.on("error",(function(e){o(e)})),t&&"string"==typeof t&&s.write(t,"utf8"),t&&"string"!=typeof t?(t.on("close",(function(){s.end()})),t.pipe(s)):s.end()}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const n={};n.parsedUrl=t;const o="https:"===n.parsedUrl.protocol;n.httpModule=o?u:a;const s=o?443:80;if(n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):s,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(r),null!=this.userAgent&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers)for(const e of this.handlers)e.prepareRequest(n.options);return n}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},y(this.requestOptions.headers),y(e||{})):y(e||{})}_getExistingOrDefaultHeader(e,t,r){let n;return this.requestOptions&&this.requestOptions.headers&&(n=y(this.requestOptions.headers)[t]),e[t]||n||r}_getAgent(e){let t;const r=c.getProxyUrl(e),n=r&&r.hostname;if(this._keepAlive&&n&&(t=this._proxyAgent),this._keepAlive&&!n&&(t=this._agent),t)return t;const o="https:"===e.protocol;let s=100;if(this.requestOptions&&(s=this.requestOptions.maxSockets||a.globalAgent.maxSockets),r&&r.hostname){const e={maxSockets:s,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})};let n;const i="https:"===r.protocol;n=o?i?d.httpsOverHttps:d.httpsOverHttp:i?d.httpOverHttps:d.httpOverHttp,t=n(e),this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:s};t=o?new u.Agent(e):new a.Agent(e),this._agent=t}return t||(t=o?u.globalAgent:a.globalAgent),o&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(e){return i(this,void 0,void 0,(function*(){e=Math.min(10,e);const t=5*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}))}_processResponse(e,t){return i(this,void 0,void 0,(function*(){return new Promise(((r,n)=>i(this,void 0,void 0,(function*(){const o=e.message.statusCode||0,s={statusCode:o,result:null,headers:{}};let i,a;o===l.NotFound&&r(s);try{a=yield e.readBody(),a&&a.length>0&&(i=t&&t.deserializeDates?JSON.parse(a,(function(e,t){if("string"==typeof t){const e=new Date(t);if(!isNaN(e.valueOf()))return e}return t})):JSON.parse(a),s.result=i),s.headers=e.message.headers}catch(e){}if(o>299){let e;e=i&&i.message?i.message:a&&a.length>0?a:`Failed request: (${o})`;const t=new g(e,o);t.result=s.result,n(t)}else r(s)}))))}))}};const y=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{})},7960:(e,t)=>{"use strict";function r(e){if(!e.hostname)return!1;const t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):"http:"===e.protocol?r=80:"https:"===e.protocol&&(r=443);const n=[e.hostname.toUpperCase()];"number"==typeof r&&n.push(`${n[0]}:${r}`);for(const e of t.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e)))if(n.some((t=>t===e)))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.checkBypass=t.getProxyUrl=void 0,t.getProxyUrl=function(e){const t="https:"===e.protocol;if(r(e))return;const n=t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;return n?new URL(n):void 0},t.checkBypass=r},6149:(e,t,r)=>{e.exports=r(5468)},5468:(e,t,r)=>{"use strict";r(1808);var n,o=r(4404),s=r(3685),i=r(5687),a=r(2361),u=(r(9491),r(3837));function c(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||s.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",(function(e,r,n,o){for(var s=l(r,n,o),i=0,a=t.requests.length;i<a;++i){var u=t.requests[i];if(u.host===s.host&&u.port===s.port)return t.requests.splice(i,1),void u.request.onSocket(e)}e.destroy(),t.removeSocket(e)}))}function d(e,t){var r=this;c.prototype.createSocket.call(r,e,(function(n){var s=e.request.getHeader("host"),i=p({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):e.host}),a=o.connect(0,i);r.sockets[r.sockets.indexOf(n)]=a,t(a)}))}function l(e,t,r){return"string"==typeof e?{host:e,port:t,localAddress:r}:e}function p(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if("object"==typeof n)for(var o=Object.keys(n),s=0,i=o.length;s<i;++s){var a=o[s];void 0!==n[a]&&(e[a]=n[a])}}return e}t.httpOverHttp=function(e){var t=new c(e);return t.request=s.request,t},t.httpsOverHttp=function(e){var t=new c(e);return t.request=s.request,t.createSocket=d,t.defaultPort=443,t},t.httpOverHttps=function(e){var t=new c(e);return t.request=i.request,t},t.httpsOverHttps=function(e){var t=new c(e);return t.request=i.request,t.createSocket=d,t.defaultPort=443,t},u.inherits(c,a.EventEmitter),c.prototype.addRequest=function(e,t,r,n){var o=this,s=p({request:e},o.options,l(t,r,n));o.sockets.length>=this.maxSockets?o.requests.push(s):o.createSocket(s,(function(t){function r(){o.emit("free",t,s)}function n(e){o.removeSocket(t),t.removeListener("free",r),t.removeListener("close",n),t.removeListener("agentRemove",n)}t.on("free",r),t.on("close",n),t.on("agentRemove",n),e.onSocket(t)}))},c.prototype.createSocket=function(e,t){var r=this,o={};r.sockets.push(o);var s=p({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),n("making CONNECT request");var i=r.request(s);function a(s,a,u){var c;return i.removeAllListeners(),a.removeAllListeners(),200!==s.statusCode?(n("tunneling socket could not be established, statusCode=%d",s.statusCode),a.destroy(),(c=new Error("tunneling socket could not be established, statusCode="+s.statusCode)).code="ECONNRESET",e.request.emit("error",c),void r.removeSocket(o)):u.length>0?(n("got illegal response body from proxy"),a.destroy(),(c=new Error("got illegal response body from proxy")).code="ECONNRESET",e.request.emit("error",c),void r.removeSocket(o)):(n("tunneling connection has established"),r.sockets[r.sockets.indexOf(o)]=a,t(a))}i.useChunkedEncodingByDefault=!1,i.once("response",(function(e){e.upgrade=!0})),i.once("upgrade",(function(e,t,r){process.nextTick((function(){a(e,t,r)}))})),i.once("connect",a),i.once("error",(function(t){i.removeAllListeners(),n("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var s=new Error("tunneling socket could not be established, cause="+t.message);s.code="ECONNRESET",e.request.emit("error",s),r.removeSocket(o)})),i.end()},c.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createSocket(r,(function(e){r.request.onSocket(e)}))}},n=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},t.debug=n},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},4404:e=>{"use strict";e.exports=require("tls")},3837:e=>{"use strict";e.exports=require("util")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=require("node:fs");var t=r.n(e);const n=require("node:path");var o=r.n(n);const s=require("node:child_process");var i=r.n(s),a=r(2225);JSON.parse(a.getInput("fullpaths")).forEach((e=>{a.startGroup(`Move output as parent directory. target: ${e}`),(e=>{const r=function(e){try{const r=o().resolve(e,"package.json"),n=t().readFileSync(r).toString();return JSON.parse(n)}catch(e){return null}}(e);r?!1!==r.deploy?function(e){const r=["build",".next","dist"],n=t().readdirSync(e).find((e=>r.includes(e)));n?i().execSync(`mv -v ${o().resolve(e,n,"*")} ${e}`,{stdio:"inherit"}):console.log("Build directory not found. exit.")}(e):console.log("Skip deploy."):console.log("package.json not found. exit.")})(e),a.endGroup()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW92ZS1idWlsZC1vdXRwdXQtdG8tcGFyZW50LWRpcmVjdG9yeS5qcyIsIm1hcHBpbmdzIjoiK0NBQ0EsSUFBSUEsRUFBbUJDLE1BQVFBLEtBQUtELGtCQUFxQkUsT0FBT0MsT0FBUyxTQUFVQyxFQUFHQyxFQUFHQyxFQUFHQyxRQUM3RUMsSUFBUEQsSUFBa0JBLEVBQUtELEdBQzNCSixPQUFPTyxlQUFlTCxFQUFHRyxFQUFJLENBQUVHLFlBQVksRUFBTUMsSUFBSyxXQUFhLE9BQU9OLEVBQUVDLE9BQzNFLFNBQVVGLEVBQUdDLEVBQUdDLEVBQUdDLFFBQ1RDLElBQVBELElBQWtCQSxFQUFLRCxHQUMzQkYsRUFBRUcsR0FBTUYsRUFBRUMsS0FFVk0sRUFBc0JYLE1BQVFBLEtBQUtXLHFCQUF3QlYsT0FBT0MsT0FBUyxTQUFVQyxFQUFHUyxHQUN4RlgsT0FBT08sZUFBZUwsRUFBRyxVQUFXLENBQUVNLFlBQVksRUFBTUksTUFBT0QsS0FDOUQsU0FBU1QsRUFBR1MsR0FDYlQsRUFBVyxRQUFJUyxJQUVmRSxFQUFnQmQsTUFBUUEsS0FBS2MsY0FBaUIsU0FBVUMsR0FDeEQsR0FBSUEsR0FBT0EsRUFBSUMsV0FBWSxPQUFPRCxFQUNsQyxJQUFJRSxFQUFTLEdBQ2IsR0FBVyxNQUFQRixFQUFhLElBQUssSUFBSVYsS0FBS1UsRUFBZSxZQUFOVixHQUFtQkosT0FBT2lCLGVBQWVDLEtBQUtKLEVBQUtWLElBQUlOLEVBQWdCa0IsRUFBUUYsRUFBS1YsR0FFNUgsT0FEQU0sRUFBbUJNLEVBQVFGLEdBQ3BCRSxHQUVYaEIsT0FBT08sZUFBZVksRUFBUyxhQUFjLENBQUVQLE9BQU8sSUFDdERPLEVBQVFDLE1BQVFELEVBQVFFLGtCQUFlLEVBQ3ZDLE1BQU1DLEVBQUtULEVBQWEsRUFBUSxPQUMxQlUsRUFBVSxFQUFRLE1BV3hCLFNBQVNGLEVBQWFHLEVBQVNDLEVBQVlDLEdBQ3ZDLE1BQU1DLEVBQU0sSUFBSUMsRUFBUUosRUFBU0MsRUFBWUMsR0FDN0NHLFFBQVFDLE9BQU9D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TSxFQUFnQixRQUFRTixJQUMzRCxDQUFFUyxNQUFPLFlBTlR6QixRQUFRMEIsSUFBSSxvQ0RWWkMsQ0FBc0NiLEdBSnBDZCxRQUFRMEIsSUFBSSxnQkFMWjFCLFFBQVEwQixJQUFJLGtDQWNkRSxDQUFnQmQsR0FDaEJGLEVBQUtwWixlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVpbGQtYWxsLXN1Yi1kaXJlY3RvcnkvLi9ub2RlX21vZHVsZXMvQGFjdGlvbnMvY29yZS9saWIvY29tbWFuZC5qcyIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS8uL25vZGVfbW9kdWxlcy9AYWN0aW9ucy9jb3JlL2xpYi9jb3JlLmpzIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5Ly4vbm9kZV9tb2R1bGVzL0BhY3Rpb25zL2NvcmUvbGliL2ZpbGUtY29tbWFuZC5qcyIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS8uL25vZGVfbW9kdWxlcy9AYWN0aW9ucy9jb3JlL2xpYi9vaWRjLXV0aWxzLmpzIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5Ly4vbm9kZV9tb2R1bGVzL0BhY3Rpb25zL2NvcmUvbGliL3N1bW1hcnkuanMiLCJ3ZWJwYWNrOi8vYnVpbGQtYWxsLXN1Yi1kaXJlY3RvcnkvLi9ub2RlX21vZHVsZXMvQGFjdGlvbnMvY29yZS9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vYnVpbGQtYWxsLXN1Yi1kaXJlY3RvcnkvLi9ub2RlX21vZHVsZXMvQGFjdGlvbnMvaHR0cC1jbGllbnQvbGliL2F1dGguanMiLCJ3ZWJwYWNrOi8vYnVpbGQtYWxsLXN1Yi1kaXJlY3RvcnkvLi9ub2RlX21vZHVsZXMvQGFjdGlvbnMvaHR0cC1jbGllbnQvbGliL2luZGV4LmpzIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5Ly4vbm9kZV9tb2R1bGVzL0BhY3Rpb25zL2h0dHAtY2xpZW50L2xpYi9wcm94eS5qcyIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS8uL25vZGVfbW9kdWxlcy90dW5uZWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYnVpbGQtYWxsLXN1Yi1kaXJlY3RvcnkvLi9ub2RlX21vZHVsZXMvdHVubmVsL2xpYi90dW5uZWwuanMiLCJ3ZWJwYWNrOi8vYnVpbGQtYWxsLXN1Yi1kaXJlY3RvcnkvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImFzc2VydFwiIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJldmVudHNcIiIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiZnNcIiIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiaHR0cFwiIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJodHRwc1wiIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJuZXRcIiIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwib3NcIiIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwicGF0aFwiIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJ0bHNcIiIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwidXRpbFwiIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJub2RlOmZzXCIiLCJ3ZWJwYWNrOi8vYnVpbGQtYWxsLXN1Yi1kaXJlY3RvcnkvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcIm5vZGU6cGF0aFwiIiwid2VicGFjazovL2J1aWxkLWFsbC1zdWItZGlyZWN0b3J5L2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJub2RlOmNoaWxkX3Byb2Nlc3NcIiIsIndlYnBhY2s6Ly9idWlsZC1hbGwtc3ViLWRpcmVjdG9yeS8uL3NyYy9hY3Rpb25zL21vdmUtYnVpbGQtb3V0cHV0LXRvLXBhcmVudC1kaXJlY3RvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYnVpbGQtYWxsLXN1Yi1kaXJlY3RvcnkvLi9zcmMvbGlicy9wcm9qZWN0RXhwbG9yZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc3N1ZSA9IGV4cG9ydHMuaXNzdWVDb21tYW5kID0gdm9pZCAwO1xuY29uc3Qgb3MgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIm9zXCIpKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbi8qKlxuICogQ29tbWFuZHNcbiAqXG4gKiBDb21tYW5kIEZvcm1hdDpcbiAqICAgOjpuYW1lIGtleT12YWx1ZSxrZXk9dmFsdWU6Om1lc3NhZ2VcbiAqXG4gKiBFeGFtcGxlczpcbiAqICAgOjp3YXJuaW5nOjpUaGlzIGlzIHRoZSBtZXNzYWdlXG4gKiAgIDo6c2V0LWVudiBuYW1lPU1ZX1ZBUjo6c29tZSB2YWx1ZVxuICovXG5mdW5jdGlvbiBpc3N1ZUNvbW1hbmQoY29tbWFuZCwgcHJvcGVydGllcywgbWVzc2FnZSkge1xuICAgIGNvbnN0IGNtZCA9IG5ldyBDb21tYW5kKGNvbW1hbmQsIHByb3BlcnRpZXMsIG1lc3NhZ2UpO1xuICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNtZC50b1N0cmluZygpICsgb3MuRU9MKTtcbn1cbmV4cG9ydHMuaXNzdWVDb21tYW5kID0gaXNzdWVDb21tYW5kO1xuZnVuY3Rpb24gaXNzdWUobmFtZSwgbWVzc2FnZSA9ICcnKSB7XG4gICAgaXNzdWVDb21tYW5kKG5hbWUsIHt9LCBtZXNzYWdlKTtcbn1cbmV4cG9ydHMuaXNzdWUgPSBpc3N1ZTtcbmNvbnN0IENNRF9TVFJJTkcgPSAnOjonO1xuY2xhc3MgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoY29tbWFuZCwgcHJvcGVydGllcywgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgICAgICAgIGNvbW1hbmQgPSAnbWlzc2luZy5jb21tYW5kJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1hbmQgPSBjb21tYW5kO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IGNtZFN0ciA9IENNRF9TVFJJTkcgKyB0aGlzLmNvbW1hbmQ7XG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMgJiYgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjbWRTdHIgKz0gJyAnO1xuICAgICAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZFN0ciArPSAnLCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbWRTdHIgKz0gYCR7a2V5fT0ke2VzY2FwZVByb3BlcnR5KHZhbCl9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbWRTdHIgKz0gYCR7Q01EX1NUUklOR30ke2VzY2FwZURhdGEodGhpcy5tZXNzYWdlKX1gO1xuICAgICAgICByZXR1cm4gY21kU3RyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVzY2FwZURhdGEocykge1xuICAgIHJldHVybiB1dGlsc18xLnRvQ29tbWFuZFZhbHVlKHMpXG4gICAgICAgIC5yZXBsYWNlKC8lL2csICclMjUnKVxuICAgICAgICAucmVwbGFjZSgvXFxyL2csICclMEQnKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csICclMEEnKTtcbn1cbmZ1bmN0aW9uIGVzY2FwZVByb3BlcnR5KHMpIHtcbiAgICByZXR1cm4gdXRpbHNfMS50b0NvbW1hbmRWYWx1ZShzKVxuICAgICAgICAucmVwbGFjZSgvJS9nLCAnJTI1JylcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCAnJTBEJylcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnJTBBJylcbiAgICAgICAgLnJlcGxhY2UoLzovZywgJyUzQScpXG4gICAgICAgIC5yZXBsYWNlKC8sL2csICclMkMnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1hbmQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldElEVG9rZW4gPSBleHBvcnRzLmdldFN0YXRlID0gZXhwb3J0cy5zYXZlU3RhdGUgPSBleHBvcnRzLmdyb3VwID0gZXhwb3J0cy5lbmRHcm91cCA9IGV4cG9ydHMuc3RhcnRHcm91cCA9IGV4cG9ydHMuaW5mbyA9IGV4cG9ydHMubm90aWNlID0gZXhwb3J0cy53YXJuaW5nID0gZXhwb3J0cy5lcnJvciA9IGV4cG9ydHMuZGVidWcgPSBleHBvcnRzLmlzRGVidWcgPSBleHBvcnRzLnNldEZhaWxlZCA9IGV4cG9ydHMuc2V0Q29tbWFuZEVjaG8gPSBleHBvcnRzLnNldE91dHB1dCA9IGV4cG9ydHMuZ2V0Qm9vbGVhbklucHV0ID0gZXhwb3J0cy5nZXRNdWx0aWxpbmVJbnB1dCA9IGV4cG9ydHMuZ2V0SW5wdXQgPSBleHBvcnRzLmFkZFBhdGggPSBleHBvcnRzLnNldFNlY3JldCA9IGV4cG9ydHMuZXhwb3J0VmFyaWFibGUgPSBleHBvcnRzLkV4aXRDb2RlID0gdm9pZCAwO1xuY29uc3QgY29tbWFuZF8xID0gcmVxdWlyZShcIi4vY29tbWFuZFwiKTtcbmNvbnN0IGZpbGVfY29tbWFuZF8xID0gcmVxdWlyZShcIi4vZmlsZS1jb21tYW5kXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3Qgb3MgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIm9zXCIpKTtcbmNvbnN0IHBhdGggPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInBhdGhcIikpO1xuY29uc3Qgb2lkY191dGlsc18xID0gcmVxdWlyZShcIi4vb2lkYy11dGlsc1wiKTtcbi8qKlxuICogVGhlIGNvZGUgdG8gZXhpdCBhbiBhY3Rpb25cbiAqL1xudmFyIEV4aXRDb2RlO1xuKGZ1bmN0aW9uIChFeGl0Q29kZSkge1xuICAgIC8qKlxuICAgICAqIEEgY29kZSBpbmRpY2F0aW5nIHRoYXQgdGhlIGFjdGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICAgICAqL1xuICAgIEV4aXRDb2RlW0V4aXRDb2RlW1wiU3VjY2Vzc1wiXSA9IDBdID0gXCJTdWNjZXNzXCI7XG4gICAgLyoqXG4gICAgICogQSBjb2RlIGluZGljYXRpbmcgdGhhdCB0aGUgYWN0aW9uIHdhcyBhIGZhaWx1cmVcbiAgICAgKi9cbiAgICBFeGl0Q29kZVtFeGl0Q29kZVtcIkZhaWx1cmVcIl0gPSAxXSA9IFwiRmFpbHVyZVwiO1xufSkoRXhpdENvZGUgPSBleHBvcnRzLkV4aXRDb2RlIHx8IChleHBvcnRzLkV4aXRDb2RlID0ge30pKTtcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFZhcmlhYmxlc1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBTZXRzIGVudiB2YXJpYWJsZSBmb3IgdGhpcyBhY3Rpb24gYW5kIGZ1dHVyZSBhY3Rpb25zIGluIHRoZSBqb2JcbiAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBzZXRcbiAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIG9mIHRoZSB2YXJpYWJsZS4gTm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcgdmlhIEpTT04uc3RyaW5naWZ5XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBleHBvcnRWYXJpYWJsZShuYW1lLCB2YWwpIHtcbiAgICBjb25zdCBjb252ZXJ0ZWRWYWwgPSB1dGlsc18xLnRvQ29tbWFuZFZhbHVlKHZhbCk7XG4gICAgcHJvY2Vzcy5lbnZbbmFtZV0gPSBjb252ZXJ0ZWRWYWw7XG4gICAgY29uc3QgZmlsZVBhdGggPSBwcm9jZXNzLmVudlsnR0lUSFVCX0VOViddIHx8ICcnO1xuICAgIGlmIChmaWxlUGF0aCkge1xuICAgICAgICBjb25zdCBkZWxpbWl0ZXIgPSAnX0dpdEh1YkFjdGlvbnNGaWxlQ29tbWFuZERlbGltZXRlcl8nO1xuICAgICAgICBjb25zdCBjb21tYW5kVmFsdWUgPSBgJHtuYW1lfTw8JHtkZWxpbWl0ZXJ9JHtvcy5FT0x9JHtjb252ZXJ0ZWRWYWx9JHtvcy5FT0x9JHtkZWxpbWl0ZXJ9YDtcbiAgICAgICAgZmlsZV9jb21tYW5kXzEuaXNzdWVDb21tYW5kKCdFTlYnLCBjb21tYW5kVmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29tbWFuZF8xLmlzc3VlQ29tbWFuZCgnc2V0LWVudicsIHsgbmFtZSB9LCBjb252ZXJ0ZWRWYWwpO1xuICAgIH1cbn1cbmV4cG9ydHMuZXhwb3J0VmFyaWFibGUgPSBleHBvcnRWYXJpYWJsZTtcbi8qKlxuICogUmVnaXN0ZXJzIGEgc2VjcmV0IHdoaWNoIHdpbGwgZ2V0IG1hc2tlZCBmcm9tIGxvZ3NcbiAqIEBwYXJhbSBzZWNyZXQgdmFsdWUgb2YgdGhlIHNlY3JldFxuICovXG5mdW5jdGlvbiBzZXRTZWNyZXQoc2VjcmV0KSB7XG4gICAgY29tbWFuZF8xLmlzc3VlQ29tbWFuZCgnYWRkLW1hc2snLCB7fSwgc2VjcmV0KTtcbn1cbmV4cG9ydHMuc2V0U2VjcmV0ID0gc2V0U2VjcmV0O1xuLyoqXG4gKiBQcmVwZW5kcyBpbnB1dFBhdGggdG8gdGhlIFBBVEggKGZvciB0aGlzIGFjdGlvbiBhbmQgZnV0dXJlIGFjdGlvbnMpXG4gKiBAcGFyYW0gaW5wdXRQYXRoXG4gKi9cbmZ1bmN0aW9uIGFkZFBhdGgoaW5wdXRQYXRoKSB7XG4gICAgY29uc3QgZmlsZVBhdGggPSBwcm9jZXNzLmVudlsnR0lUSFVCX1BBVEgnXSB8fCAnJztcbiAgICBpZiAoZmlsZVBhdGgpIHtcbiAgICAgICAgZmlsZV9jb21tYW5kXzEuaXNzdWVDb21tYW5kKCdQQVRIJywgaW5wdXRQYXRoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbW1hbmRfMS5pc3N1ZUNvbW1hbmQoJ2FkZC1wYXRoJywge30sIGlucHV0UGF0aCk7XG4gICAgfVxuICAgIHByb2Nlc3MuZW52WydQQVRIJ10gPSBgJHtpbnB1dFBhdGh9JHtwYXRoLmRlbGltaXRlcn0ke3Byb2Nlc3MuZW52WydQQVRIJ119YDtcbn1cbmV4cG9ydHMuYWRkUGF0aCA9IGFkZFBhdGg7XG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIG9mIGFuIGlucHV0LlxuICogVW5sZXNzIHRyaW1XaGl0ZXNwYWNlIGlzIHNldCB0byBmYWxzZSBpbiBJbnB1dE9wdGlvbnMsIHRoZSB2YWx1ZSBpcyBhbHNvIHRyaW1tZWQuXG4gKiBSZXR1cm5zIGFuIGVtcHR5IHN0cmluZyBpZiB0aGUgdmFsdWUgaXMgbm90IGRlZmluZWQuXG4gKlxuICogQHBhcmFtICAgICBuYW1lICAgICBuYW1lIG9mIHRoZSBpbnB1dCB0byBnZXRcbiAqIEBwYXJhbSAgICAgb3B0aW9ucyAgb3B0aW9uYWwuIFNlZSBJbnB1dE9wdGlvbnMuXG4gKiBAcmV0dXJucyAgIHN0cmluZ1xuICovXG5mdW5jdGlvbiBnZXRJbnB1dChuYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdmFsID0gcHJvY2Vzcy5lbnZbYElOUFVUXyR7bmFtZS5yZXBsYWNlKC8gL2csICdfJykudG9VcHBlckNhc2UoKX1gXSB8fCAnJztcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlcXVpcmVkICYmICF2YWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCByZXF1aXJlZCBhbmQgbm90IHN1cHBsaWVkOiAke25hbWV9YCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudHJpbVdoaXRlc3BhY2UgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIHJldHVybiB2YWwudHJpbSgpO1xufVxuZXhwb3J0cy5nZXRJbnB1dCA9IGdldElucHV0O1xuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZXMgb2YgYW4gbXVsdGlsaW5lIGlucHV0LiAgRWFjaCB2YWx1ZSBpcyBhbHNvIHRyaW1tZWQuXG4gKlxuICogQHBhcmFtICAgICBuYW1lICAgICBuYW1lIG9mIHRoZSBpbnB1dCB0byBnZXRcbiAqIEBwYXJhbSAgICAgb3B0aW9ucyAgb3B0aW9uYWwuIFNlZSBJbnB1dE9wdGlvbnMuXG4gKiBAcmV0dXJucyAgIHN0cmluZ1tdXG4gKlxuICovXG5mdW5jdGlvbiBnZXRNdWx0aWxpbmVJbnB1dChuYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3QgaW5wdXRzID0gZ2V0SW5wdXQobmFtZSwgb3B0aW9ucylcbiAgICAgICAgLnNwbGl0KCdcXG4nKVxuICAgICAgICAuZmlsdGVyKHggPT4geCAhPT0gJycpO1xuICAgIHJldHVybiBpbnB1dHM7XG59XG5leHBvcnRzLmdldE11bHRpbGluZUlucHV0ID0gZ2V0TXVsdGlsaW5lSW5wdXQ7XG4vKipcbiAqIEdldHMgdGhlIGlucHV0IHZhbHVlIG9mIHRoZSBib29sZWFuIHR5cGUgaW4gdGhlIFlBTUwgMS4yIFwiY29yZSBzY2hlbWFcIiBzcGVjaWZpY2F0aW9uLlxuICogU3VwcG9ydCBib29sZWFuIGlucHV0IGxpc3Q6IGB0cnVlIHwgVHJ1ZSB8IFRSVUUgfCBmYWxzZSB8IEZhbHNlIHwgRkFMU0VgIC5cbiAqIFRoZSByZXR1cm4gdmFsdWUgaXMgYWxzbyBpbiBib29sZWFuIHR5cGUuXG4gKiByZWY6IGh0dHBzOi8veWFtbC5vcmcvc3BlYy8xLjIvc3BlYy5odG1sI2lkMjgwNDkyM1xuICpcbiAqIEBwYXJhbSAgICAgbmFtZSAgICAgbmFtZSBvZiB0aGUgaW5wdXQgdG8gZ2V0XG4gKiBAcGFyYW0gICAgIG9wdGlvbnMgIG9wdGlvbmFsLiBTZWUgSW5wdXRPcHRpb25zLlxuICogQHJldHVybnMgICBib29sZWFuXG4gKi9cbmZ1bmN0aW9uIGdldEJvb2xlYW5JbnB1dChuYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdHJ1ZVZhbHVlID0gWyd0cnVlJywgJ1RydWUnLCAnVFJVRSddO1xuICAgIGNvbnN0IGZhbHNlVmFsdWUgPSBbJ2ZhbHNlJywgJ0ZhbHNlJywgJ0ZBTFNFJ107XG4gICAgY29uc3QgdmFsID0gZ2V0SW5wdXQobmFtZSwgb3B0aW9ucyk7XG4gICAgaWYgKHRydWVWYWx1ZS5pbmNsdWRlcyh2YWwpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZmFsc2VWYWx1ZS5pbmNsdWRlcyh2YWwpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW5wdXQgZG9lcyBub3QgbWVldCBZQU1MIDEuMiBcIkNvcmUgU2NoZW1hXCIgc3BlY2lmaWNhdGlvbjogJHtuYW1lfVxcbmAgK1xuICAgICAgICBgU3VwcG9ydCBib29sZWFuIGlucHV0IGxpc3Q6IFxcYHRydWUgfCBUcnVlIHwgVFJVRSB8IGZhbHNlIHwgRmFsc2UgfCBGQUxTRVxcYGApO1xufVxuZXhwb3J0cy5nZXRCb29sZWFuSW5wdXQgPSBnZXRCb29sZWFuSW5wdXQ7XG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIGFuIG91dHB1dC5cbiAqXG4gKiBAcGFyYW0gICAgIG5hbWUgICAgIG5hbWUgb2YgdGhlIG91dHB1dCB0byBzZXRcbiAqIEBwYXJhbSAgICAgdmFsdWUgICAgdmFsdWUgdG8gc3RvcmUuIE5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmUgY29udmVydGVkIHRvIGEgc3RyaW5nIHZpYSBKU09OLnN0cmluZ2lmeVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gc2V0T3V0cHV0KG5hbWUsIHZhbHVlKSB7XG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUob3MuRU9MKTtcbiAgICBjb21tYW5kXzEuaXNzdWVDb21tYW5kKCdzZXQtb3V0cHV0JywgeyBuYW1lIH0sIHZhbHVlKTtcbn1cbmV4cG9ydHMuc2V0T3V0cHV0ID0gc2V0T3V0cHV0O1xuLyoqXG4gKiBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBlY2hvaW5nIG9mIGNvbW1hbmRzIGludG8gc3Rkb3V0IGZvciB0aGUgcmVzdCBvZiB0aGUgc3RlcC5cbiAqIEVjaG9pbmcgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdCBpZiBBQ1RJT05TX1NURVBfREVCVUcgaXMgbm90IHNldC5cbiAqXG4gKi9cbmZ1bmN0aW9uIHNldENvbW1hbmRFY2hvKGVuYWJsZWQpIHtcbiAgICBjb21tYW5kXzEuaXNzdWUoJ2VjaG8nLCBlbmFibGVkID8gJ29uJyA6ICdvZmYnKTtcbn1cbmV4cG9ydHMuc2V0Q29tbWFuZEVjaG8gPSBzZXRDb21tYW5kRWNobztcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJlc3VsdHNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogU2V0cyB0aGUgYWN0aW9uIHN0YXR1cyB0byBmYWlsZWQuXG4gKiBXaGVuIHRoZSBhY3Rpb24gZXhpdHMgaXQgd2lsbCBiZSB3aXRoIGFuIGV4aXQgY29kZSBvZiAxXG4gKiBAcGFyYW0gbWVzc2FnZSBhZGQgZXJyb3IgaXNzdWUgbWVzc2FnZVxuICovXG5mdW5jdGlvbiBzZXRGYWlsZWQobWVzc2FnZSkge1xuICAgIHByb2Nlc3MuZXhpdENvZGUgPSBFeGl0Q29kZS5GYWlsdXJlO1xuICAgIGVycm9yKG1lc3NhZ2UpO1xufVxuZXhwb3J0cy5zZXRGYWlsZWQgPSBzZXRGYWlsZWQ7XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBMb2dnaW5nIENvbW1hbmRzXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIEdldHMgd2hldGhlciBBY3Rpb25zIFN0ZXAgRGVidWcgaXMgb24gb3Igbm90XG4gKi9cbmZ1bmN0aW9uIGlzRGVidWcoKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52WydSVU5ORVJfREVCVUcnXSA9PT0gJzEnO1xufVxuZXhwb3J0cy5pc0RlYnVnID0gaXNEZWJ1Zztcbi8qKlxuICogV3JpdGVzIGRlYnVnIG1lc3NhZ2UgdG8gdXNlciBsb2dcbiAqIEBwYXJhbSBtZXNzYWdlIGRlYnVnIG1lc3NhZ2VcbiAqL1xuZnVuY3Rpb24gZGVidWcobWVzc2FnZSkge1xuICAgIGNvbW1hbmRfMS5pc3N1ZUNvbW1hbmQoJ2RlYnVnJywge30sIG1lc3NhZ2UpO1xufVxuZXhwb3J0cy5kZWJ1ZyA9IGRlYnVnO1xuLyoqXG4gKiBBZGRzIGFuIGVycm9yIGlzc3VlXG4gKiBAcGFyYW0gbWVzc2FnZSBlcnJvciBpc3N1ZSBtZXNzYWdlLiBFcnJvcnMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gc3RyaW5nIHZpYSB0b1N0cmluZygpXG4gKiBAcGFyYW0gcHJvcGVydGllcyBvcHRpb25hbCBwcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgYW5ub3RhdGlvbi5cbiAqL1xuZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgcHJvcGVydGllcyA9IHt9KSB7XG4gICAgY29tbWFuZF8xLmlzc3VlQ29tbWFuZCgnZXJyb3InLCB1dGlsc18xLnRvQ29tbWFuZFByb3BlcnRpZXMocHJvcGVydGllcyksIG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciA/IG1lc3NhZ2UudG9TdHJpbmcoKSA6IG1lc3NhZ2UpO1xufVxuZXhwb3J0cy5lcnJvciA9IGVycm9yO1xuLyoqXG4gKiBBZGRzIGEgd2FybmluZyBpc3N1ZVxuICogQHBhcmFtIG1lc3NhZ2Ugd2FybmluZyBpc3N1ZSBtZXNzYWdlLiBFcnJvcnMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gc3RyaW5nIHZpYSB0b1N0cmluZygpXG4gKiBAcGFyYW0gcHJvcGVydGllcyBvcHRpb25hbCBwcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgYW5ub3RhdGlvbi5cbiAqL1xuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlLCBwcm9wZXJ0aWVzID0ge30pIHtcbiAgICBjb21tYW5kXzEuaXNzdWVDb21tYW5kKCd3YXJuaW5nJywgdXRpbHNfMS50b0NvbW1hbmRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpLCBtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IgPyBtZXNzYWdlLnRvU3RyaW5nKCkgOiBtZXNzYWdlKTtcbn1cbmV4cG9ydHMud2FybmluZyA9IHdhcm5pbmc7XG4vKipcbiAqIEFkZHMgYSBub3RpY2UgaXNzdWVcbiAqIEBwYXJhbSBtZXNzYWdlIG5vdGljZSBpc3N1ZSBtZXNzYWdlLiBFcnJvcnMgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gc3RyaW5nIHZpYSB0b1N0cmluZygpXG4gKiBAcGFyYW0gcHJvcGVydGllcyBvcHRpb25hbCBwcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgYW5ub3RhdGlvbi5cbiAqL1xuZnVuY3Rpb24gbm90aWNlKG1lc3NhZ2UsIHByb3BlcnRpZXMgPSB7fSkge1xuICAgIGNvbW1hbmRfMS5pc3N1ZUNvbW1hbmQoJ25vdGljZScsIHV0aWxzXzEudG9Db21tYW5kUHJvcGVydGllcyhwcm9wZXJ0aWVzKSwgbWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yID8gbWVzc2FnZS50b1N0cmluZygpIDogbWVzc2FnZSk7XG59XG5leHBvcnRzLm5vdGljZSA9IG5vdGljZTtcbi8qKlxuICogV3JpdGVzIGluZm8gdG8gbG9nIHdpdGggY29uc29sZS5sb2cuXG4gKiBAcGFyYW0gbWVzc2FnZSBpbmZvIG1lc3NhZ2VcbiAqL1xuZnVuY3Rpb24gaW5mbyhtZXNzYWdlKSB7XG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUobWVzc2FnZSArIG9zLkVPTCk7XG59XG5leHBvcnRzLmluZm8gPSBpbmZvO1xuLyoqXG4gKiBCZWdpbiBhbiBvdXRwdXQgZ3JvdXAuXG4gKlxuICogT3V0cHV0IHVudGlsIHRoZSBuZXh0IGBncm91cEVuZGAgd2lsbCBiZSBmb2xkYWJsZSBpbiB0aGlzIGdyb3VwXG4gKlxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIG91dHB1dCBncm91cFxuICovXG5mdW5jdGlvbiBzdGFydEdyb3VwKG5hbWUpIHtcbiAgICBjb21tYW5kXzEuaXNzdWUoJ2dyb3VwJywgbmFtZSk7XG59XG5leHBvcnRzLnN0YXJ0R3JvdXAgPSBzdGFydEdyb3VwO1xuLyoqXG4gKiBFbmQgYW4gb3V0cHV0IGdyb3VwLlxuICovXG5mdW5jdGlvbiBlbmRHcm91cCgpIHtcbiAgICBjb21tYW5kXzEuaXNzdWUoJ2VuZGdyb3VwJyk7XG59XG5leHBvcnRzLmVuZEdyb3VwID0gZW5kR3JvdXA7XG4vKipcbiAqIFdyYXAgYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIGNhbGwgaW4gYSBncm91cC5cbiAqXG4gKiBSZXR1cm5zIHRoZSBzYW1lIHR5cGUgYXMgdGhlIGZ1bmN0aW9uIGl0c2VsZi5cbiAqXG4gKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgZ3JvdXBcbiAqIEBwYXJhbSBmbiBUaGUgZnVuY3Rpb24gdG8gd3JhcCBpbiB0aGUgZ3JvdXBcbiAqL1xuZnVuY3Rpb24gZ3JvdXAobmFtZSwgZm4pIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBzdGFydEdyb3VwKG5hbWUpO1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0geWllbGQgZm4oKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGVuZEdyb3VwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZ3JvdXAgPSBncm91cDtcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFdyYXBwZXIgYWN0aW9uIHN0YXRlXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIFNhdmVzIHN0YXRlIGZvciBjdXJyZW50IGFjdGlvbiwgdGhlIHN0YXRlIGNhbiBvbmx5IGJlIHJldHJpZXZlZCBieSB0aGlzIGFjdGlvbidzIHBvc3Qgam9iIGV4ZWN1dGlvbi5cbiAqXG4gKiBAcGFyYW0gICAgIG5hbWUgICAgIG5hbWUgb2YgdGhlIHN0YXRlIHRvIHN0b3JlXG4gKiBAcGFyYW0gICAgIHZhbHVlICAgIHZhbHVlIHRvIHN0b3JlLiBOb24tc3RyaW5nIHZhbHVlcyB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHN0cmluZyB2aWEgSlNPTi5zdHJpbmdpZnlcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIHNhdmVTdGF0ZShuYW1lLCB2YWx1ZSkge1xuICAgIGNvbW1hbmRfMS5pc3N1ZUNvbW1hbmQoJ3NhdmUtc3RhdGUnLCB7IG5hbWUgfSwgdmFsdWUpO1xufVxuZXhwb3J0cy5zYXZlU3RhdGUgPSBzYXZlU3RhdGU7XG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIG9mIGFuIHN0YXRlIHNldCBieSB0aGlzIGFjdGlvbidzIG1haW4gZXhlY3V0aW9uLlxuICpcbiAqIEBwYXJhbSAgICAgbmFtZSAgICAgbmFtZSBvZiB0aGUgc3RhdGUgdG8gZ2V0XG4gKiBAcmV0dXJucyAgIHN0cmluZ1xuICovXG5mdW5jdGlvbiBnZXRTdGF0ZShuYW1lKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52W2BTVEFURV8ke25hbWV9YF0gfHwgJyc7XG59XG5leHBvcnRzLmdldFN0YXRlID0gZ2V0U3RhdGU7XG5mdW5jdGlvbiBnZXRJRFRva2VuKGF1ZCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHJldHVybiB5aWVsZCBvaWRjX3V0aWxzXzEuT2lkY0NsaWVudC5nZXRJRFRva2VuKGF1ZCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmdldElEVG9rZW4gPSBnZXRJRFRva2VuO1xuLyoqXG4gKiBTdW1tYXJ5IGV4cG9ydHNcbiAqL1xudmFyIHN1bW1hcnlfMSA9IHJlcXVpcmUoXCIuL3N1bW1hcnlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdW1tYXJ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdW1tYXJ5XzEuc3VtbWFyeTsgfSB9KTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIGNvcmUuc3VtbWFyeVxuICovXG52YXIgc3VtbWFyeV8yID0gcmVxdWlyZShcIi4vc3VtbWFyeVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1hcmtkb3duU3VtbWFyeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3VtbWFyeV8yLm1hcmtkb3duU3VtbWFyeTsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBGb3IgaW50ZXJuYWwgdXNlLCBzdWJqZWN0IHRvIGNoYW5nZS5cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzc3VlQ29tbWFuZCA9IHZvaWQgMDtcbi8vIFdlIHVzZSBhbnkgYXMgYSB2YWxpZCBpbnB1dCB0eXBlXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5jb25zdCBmcyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiZnNcIikpO1xuY29uc3Qgb3MgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIm9zXCIpKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmZ1bmN0aW9uIGlzc3VlQ29tbWFuZChjb21tYW5kLCBtZXNzYWdlKSB7XG4gICAgY29uc3QgZmlsZVBhdGggPSBwcm9jZXNzLmVudltgR0lUSFVCXyR7Y29tbWFuZH1gXTtcbiAgICBpZiAoIWZpbGVQYXRoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGZpbmQgZW52aXJvbm1lbnQgdmFyaWFibGUgZm9yIGZpbGUgY29tbWFuZCAke2NvbW1hbmR9YCk7XG4gICAgfVxuICAgIGlmICghZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGZpbGUgYXQgcGF0aDogJHtmaWxlUGF0aH1gKTtcbiAgICB9XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMoZmlsZVBhdGgsIGAke3V0aWxzXzEudG9Db21tYW5kVmFsdWUobWVzc2FnZSl9JHtvcy5FT0x9YCwge1xuICAgICAgICBlbmNvZGluZzogJ3V0ZjgnXG4gICAgfSk7XG59XG5leHBvcnRzLmlzc3VlQ29tbWFuZCA9IGlzc3VlQ29tbWFuZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGUtY29tbWFuZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PaWRjQ2xpZW50ID0gdm9pZCAwO1xuY29uc3QgaHR0cF9jbGllbnRfMSA9IHJlcXVpcmUoXCJAYWN0aW9ucy9odHRwLWNsaWVudFwiKTtcbmNvbnN0IGF1dGhfMSA9IHJlcXVpcmUoXCJAYWN0aW9ucy9odHRwLWNsaWVudC9saWIvYXV0aFwiKTtcbmNvbnN0IGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG5jbGFzcyBPaWRjQ2xpZW50IHtcbiAgICBzdGF0aWMgY3JlYXRlSHR0cENsaWVudChhbGxvd1JldHJ5ID0gdHJ1ZSwgbWF4UmV0cnkgPSAxMCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFsbG93UmV0cmllczogYWxsb3dSZXRyeSxcbiAgICAgICAgICAgIG1heFJldHJpZXM6IG1heFJldHJ5XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgaHR0cF9jbGllbnRfMS5IdHRwQ2xpZW50KCdhY3Rpb25zL29pZGMtY2xpZW50JywgW25ldyBhdXRoXzEuQmVhcmVyQ3JlZGVudGlhbEhhbmRsZXIoT2lkY0NsaWVudC5nZXRSZXF1ZXN0VG9rZW4oKSldLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRSZXF1ZXN0VG9rZW4oKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcHJvY2Vzcy5lbnZbJ0FDVElPTlNfSURfVE9LRU5fUkVRVUVTVF9UT0tFTiddO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBnZXQgQUNUSU9OU19JRF9UT0tFTl9SRVFVRVNUX1RPS0VOIGVudiB2YXJpYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgc3RhdGljIGdldElEVG9rZW5VcmwoKSB7XG4gICAgICAgIGNvbnN0IHJ1bnRpbWVVcmwgPSBwcm9jZXNzLmVudlsnQUNUSU9OU19JRF9UT0tFTl9SRVFVRVNUX1VSTCddO1xuICAgICAgICBpZiAoIXJ1bnRpbWVVcmwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBBQ1RJT05TX0lEX1RPS0VOX1JFUVVFU1RfVVJMIGVudiB2YXJpYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW50aW1lVXJsO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0Q2FsbChpZF90b2tlbl91cmwpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgaHR0cGNsaWVudCA9IE9pZGNDbGllbnQuY3JlYXRlSHR0cENsaWVudCgpO1xuICAgICAgICAgICAgY29uc3QgcmVzID0geWllbGQgaHR0cGNsaWVudFxuICAgICAgICAgICAgICAgIC5nZXRKc29uKGlkX3Rva2VuX3VybClcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBJRCBUb2tlbi4gXFxuIFxuICAgICAgICBFcnJvciBDb2RlIDogJHtlcnJvci5zdGF0dXNDb2RlfVxcbiBcbiAgICAgICAgRXJyb3IgTWVzc2FnZTogJHtlcnJvci5yZXN1bHQubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaWRfdG9rZW4gPSAoX2EgPSByZXMucmVzdWx0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsdWU7XG4gICAgICAgICAgICBpZiAoIWlkX3Rva2VuKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNwb25zZSBqc29uIGJvZHkgZG8gbm90IGhhdmUgSUQgVG9rZW4gZmllbGQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpZF90b2tlbjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRJRFRva2VuKGF1ZGllbmNlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIE5ldyBJRCBUb2tlbiBpcyByZXF1ZXN0ZWQgZnJvbSBhY3Rpb24gc2VydmljZVxuICAgICAgICAgICAgICAgIGxldCBpZF90b2tlbl91cmwgPSBPaWRjQ2xpZW50LmdldElEVG9rZW5VcmwoKTtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaWVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlZEF1ZGllbmNlID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1ZGllbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWRfdG9rZW5fdXJsID0gYCR7aWRfdG9rZW5fdXJsfSZhdWRpZW5jZT0ke2VuY29kZWRBdWRpZW5jZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3JlXzEuZGVidWcoYElEIHRva2VuIHVybCBpcyAke2lkX3Rva2VuX3VybH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZF90b2tlbiA9IHlpZWxkIE9pZGNDbGllbnQuZ2V0Q2FsbChpZF90b2tlbl91cmwpO1xuICAgICAgICAgICAgICAgIGNvcmVfMS5zZXRTZWNyZXQoaWRfdG9rZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpZF90b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgbWVzc2FnZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLk9pZGNDbGllbnQgPSBPaWRjQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2lkYy11dGlscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdW1tYXJ5ID0gZXhwb3J0cy5tYXJrZG93blN1bW1hcnkgPSBleHBvcnRzLlNVTU1BUllfRE9DU19VUkwgPSBleHBvcnRzLlNVTU1BUllfRU5WX1ZBUiA9IHZvaWQgMDtcbmNvbnN0IG9zXzEgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBmc18xID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgeyBhY2Nlc3MsIGFwcGVuZEZpbGUsIHdyaXRlRmlsZSB9ID0gZnNfMS5wcm9taXNlcztcbmV4cG9ydHMuU1VNTUFSWV9FTlZfVkFSID0gJ0dJVEhVQl9TVEVQX1NVTU1BUlknO1xuZXhwb3J0cy5TVU1NQVJZX0RPQ1NfVVJMID0gJ2h0dHBzOi8vZG9jcy5naXRodWIuY29tL2FjdGlvbnMvdXNpbmctd29ya2Zsb3dzL3dvcmtmbG93LWNvbW1hbmRzLWZvci1naXRodWItYWN0aW9ucyNhZGRpbmctYS1qb2Itc3VtbWFyeSc7XG5jbGFzcyBTdW1tYXJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBzdW1tYXJ5IGZpbGUgcGF0aCBmcm9tIHRoZSBlbnZpcm9ubWVudCwgcmVqZWN0cyBpZiBlbnYgdmFyIGlzIG5vdCBmb3VuZCBvciBmaWxlIGRvZXMgbm90IGV4aXN0XG4gICAgICogQWxzbyBjaGVja3Mgci93IHBlcm1pc3Npb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgc3RlcCBzdW1tYXJ5IGZpbGUgcGF0aFxuICAgICAqL1xuICAgIGZpbGVQYXRoKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGVQYXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGVQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGF0aEZyb21FbnYgPSBwcm9jZXNzLmVudltleHBvcnRzLlNVTU1BUllfRU5WX1ZBUl07XG4gICAgICAgICAgICBpZiAoIXBhdGhGcm9tRW52KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCBlbnZpcm9ubWVudCB2YXJpYWJsZSBmb3IgJCR7ZXhwb3J0cy5TVU1NQVJZX0VOVl9WQVJ9LiBDaGVjayBpZiB5b3VyIHJ1bnRpbWUgZW52aXJvbm1lbnQgc3VwcG9ydHMgam9iIHN1bW1hcmllcy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgeWllbGQgYWNjZXNzKHBhdGhGcm9tRW52LCBmc18xLmNvbnN0YW50cy5SX09LIHwgZnNfMS5jb25zdGFudHMuV19PSyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBhY2Nlc3Mgc3VtbWFyeSBmaWxlOiAnJHtwYXRoRnJvbUVudn0nLiBDaGVjayBpZiB0aGUgZmlsZSBoYXMgY29ycmVjdCByZWFkL3dyaXRlIHBlcm1pc3Npb25zLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZmlsZVBhdGggPSBwYXRoRnJvbUVudjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWxlUGF0aDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyYXBzIGNvbnRlbnQgaW4gYW4gSFRNTCB0YWcsIGFkZGluZyBhbnkgSFRNTCBhdHRyaWJ1dGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIEhUTUwgdGFnIHRvIHdyYXBcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IGNvbnRlbnQgY29udGVudCB3aXRoaW4gdGhlIHRhZ1xuICAgICAqIEBwYXJhbSB7W2F0dHJpYnV0ZTogc3RyaW5nXTogc3RyaW5nfSBhdHRycyBrZXktdmFsdWUgbGlzdCBvZiBIVE1MIGF0dHJpYnV0ZXMgdG8gYWRkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjb250ZW50IHdyYXBwZWQgaW4gSFRNTCBlbGVtZW50XG4gICAgICovXG4gICAgd3JhcCh0YWcsIGNvbnRlbnQsIGF0dHJzID0ge30pIHtcbiAgICAgICAgY29uc3QgaHRtbEF0dHJzID0gT2JqZWN0LmVudHJpZXMoYXR0cnMpXG4gICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAgJHtrZXl9PVwiJHt2YWx1ZX1cImApXG4gICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGA8JHt0YWd9JHtodG1sQXR0cnN9PmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGA8JHt0YWd9JHtodG1sQXR0cnN9PiR7Y29udGVudH08LyR7dGFnfT5gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgdGV4dCBpbiB0aGUgYnVmZmVyIHRvIHRoZSBzdW1tYXJ5IGJ1ZmZlciBmaWxlIGFuZCBlbXB0aWVzIGJ1ZmZlci4gV2lsbCBhcHBlbmQgYnkgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3VtbWFyeVdyaXRlT3B0aW9uc30gW29wdGlvbnNdIChvcHRpb25hbCkgb3B0aW9ucyBmb3Igd3JpdGUgb3BlcmF0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTdW1tYXJ5Pn0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIHdyaXRlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJ3cml0ZSA9ICEhKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vdmVyd3JpdGUpO1xuICAgICAgICAgICAgY29uc3QgZmlsZVBhdGggPSB5aWVsZCB0aGlzLmZpbGVQYXRoKCk7XG4gICAgICAgICAgICBjb25zdCB3cml0ZUZ1bmMgPSBvdmVyd3JpdGUgPyB3cml0ZUZpbGUgOiBhcHBlbmRGaWxlO1xuICAgICAgICAgICAgeWllbGQgd3JpdGVGdW5jKGZpbGVQYXRoLCB0aGlzLl9idWZmZXIsIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtcHR5QnVmZmVyKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIHN1bW1hcnkgYnVmZmVyIGFuZCB3aXBlcyB0aGUgc3VtbWFyeSBmaWxlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1wdHlCdWZmZXIoKS53cml0ZSh7IG92ZXJ3cml0ZTogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc3VtbWFyeSBidWZmZXIgYXMgYSBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0cmluZyBvZiBzdW1tYXJ5IGJ1ZmZlclxuICAgICAqL1xuICAgIHN0cmluZ2lmeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHN1bW1hcnkgYnVmZmVyIGlzIGVtcHR5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVufSB0cnVlIGlmIHRoZSBidWZmZXIgaXMgZW1wdHlcbiAgICAgKi9cbiAgICBpc0VtcHR5QnVmZmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBzdW1tYXJ5IGJ1ZmZlciB3aXRob3V0IHdyaXRpbmcgdG8gc3VtbWFyeSBmaWxlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGVtcHR5QnVmZmVyKCkge1xuICAgICAgICB0aGlzLl9idWZmZXIgPSAnJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgcmF3IHRleHQgdG8gdGhlIHN1bW1hcnkgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBjb250ZW50IHRvIGFkZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FkZEVPTD1mYWxzZV0gKG9wdGlvbmFsKSBhcHBlbmQgYW4gRU9MIHRvIHRoZSByYXcgdGV4dCAoZGVmYXVsdDogZmFsc2UpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGFkZFJhdyh0ZXh0LCBhZGRFT0wgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9idWZmZXIgKz0gdGV4dDtcbiAgICAgICAgcmV0dXJuIGFkZEVPTCA/IHRoaXMuYWRkRU9MKCkgOiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBvcGVyYXRpbmcgc3lzdGVtLXNwZWNpZmljIGVuZC1vZi1saW5lIG1hcmtlciB0byB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGFkZEVPTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkUmF3KG9zXzEuRU9MKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBIVE1MIGNvZGVibG9jayB0byB0aGUgc3VtbWFyeSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIGNvbnRlbnQgdG8gcmVuZGVyIHdpdGhpbiBmZW5jZWQgY29kZSBibG9ja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nIChvcHRpb25hbCkgbGFuZ3VhZ2UgdG8gc3ludGF4IGhpZ2hsaWdodCBjb2RlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGFkZENvZGVCbG9jayhjb2RlLCBsYW5nKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gT2JqZWN0LmFzc2lnbih7fSwgKGxhbmcgJiYgeyBsYW5nIH0pKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMud3JhcCgncHJlJywgdGhpcy53cmFwKCdjb2RlJywgY29kZSksIGF0dHJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkUmF3KGVsZW1lbnQpLmFkZEVPTCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIEhUTUwgbGlzdCB0byB0aGUgc3VtbWFyeSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGl0ZW1zIGxpc3Qgb2YgaXRlbXMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3JkZXJlZD1mYWxzZV0gKG9wdGlvbmFsKSBpZiB0aGUgcmVuZGVyZWQgbGlzdCBzaG91bGQgYmUgb3JkZXJlZCBvciBub3QgKGRlZmF1bHQ6IGZhbHNlKVxuICAgICAqXG4gICAgICogQHJldHVybnMge1N1bW1hcnl9IHN1bW1hcnkgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBhZGRMaXN0KGl0ZW1zLCBvcmRlcmVkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdGFnID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnO1xuICAgICAgICBjb25zdCBsaXN0SXRlbXMgPSBpdGVtcy5tYXAoaXRlbSA9PiB0aGlzLndyYXAoJ2xpJywgaXRlbSkpLmpvaW4oJycpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy53cmFwKHRhZywgbGlzdEl0ZW1zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkUmF3KGVsZW1lbnQpLmFkZEVPTCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIEhUTUwgdGFibGUgdG8gdGhlIHN1bW1hcnkgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N1bW1hcnlUYWJsZUNlbGxbXX0gcm93cyB0YWJsZSByb3dzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGFkZFRhYmxlKHJvd3MpIHtcbiAgICAgICAgY29uc3QgdGFibGVCb2R5ID0gcm93c1xuICAgICAgICAgICAgLm1hcChyb3cgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2VsbHMgPSByb3dcbiAgICAgICAgICAgICAgICAubWFwKGNlbGwgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2VsbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JhcCgndGQnLCBjZWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBoZWFkZXIsIGRhdGEsIGNvbHNwYW4sIHJvd3NwYW4gfSA9IGNlbGw7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFnID0gaGVhZGVyID8gJ3RoJyA6ICd0ZCc7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChjb2xzcGFuICYmIHsgY29sc3BhbiB9KSksIChyb3dzcGFuICYmIHsgcm93c3BhbiB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JhcCh0YWcsIGRhdGEsIGF0dHJzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JhcCgndHInLCBjZWxscyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLndyYXAoJ3RhYmxlJywgdGFibGVCb2R5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkUmF3KGVsZW1lbnQpLmFkZEVPTCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY29sbGFwc2FibGUgSFRNTCBkZXRhaWxzIGVsZW1lbnQgdG8gdGhlIHN1bW1hcnkgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWwgdGV4dCBmb3IgdGhlIGNsb3NlZCBzdGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IGNvbGxhcHNhYmxlIGNvbnRlbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdW1tYXJ5fSBzdW1tYXJ5IGluc3RhbmNlXG4gICAgICovXG4gICAgYWRkRGV0YWlscyhsYWJlbCwgY29udGVudCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy53cmFwKCdkZXRhaWxzJywgdGhpcy53cmFwKCdzdW1tYXJ5JywgbGFiZWwpICsgY29udGVudCk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZFJhdyhlbGVtZW50KS5hZGRFT0woKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBIVE1MIGltYWdlIHRhZyB0byB0aGUgc3VtbWFyeSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgcGF0aCB0byB0aGUgaW1hZ2UgeW91IHRvIGVtYmVkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFsdCB0ZXh0IGRlc2NyaXB0aW9uIG9mIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7U3VtbWFyeUltYWdlT3B0aW9uc30gb3B0aW9ucyAob3B0aW9uYWwpIGFkZGl0aW9uIGltYWdlIGF0dHJpYnV0ZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdW1tYXJ5fSBzdW1tYXJ5IGluc3RhbmNlXG4gICAgICovXG4gICAgYWRkSW1hZ2Uoc3JjLCBhbHQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCBhdHRycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKHdpZHRoICYmIHsgd2lkdGggfSkpLCAoaGVpZ2h0ICYmIHsgaGVpZ2h0IH0pKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMud3JhcCgnaW1nJywgbnVsbCwgT2JqZWN0LmFzc2lnbih7IHNyYywgYWx0IH0sIGF0dHJzKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZFJhdyhlbGVtZW50KS5hZGRFT0woKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBIVE1MIHNlY3Rpb24gaGVhZGluZyBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBoZWFkaW5nIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gW2xldmVsPTFdIChvcHRpb25hbCkgdGhlIGhlYWRpbmcgbGV2ZWwsIGRlZmF1bHQ6IDFcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdW1tYXJ5fSBzdW1tYXJ5IGluc3RhbmNlXG4gICAgICovXG4gICAgYWRkSGVhZGluZyh0ZXh0LCBsZXZlbCkge1xuICAgICAgICBjb25zdCB0YWcgPSBgaCR7bGV2ZWx9YDtcbiAgICAgICAgY29uc3QgYWxsb3dlZFRhZyA9IFsnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnXS5pbmNsdWRlcyh0YWcpXG4gICAgICAgICAgICA/IHRhZ1xuICAgICAgICAgICAgOiAnaDEnO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy53cmFwKGFsbG93ZWRUYWcsIHRleHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRSYXcoZWxlbWVudCkuYWRkRU9MKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gSFRNTCB0aGVtYXRpYyBicmVhayAoPGhyPikgdG8gdGhlIHN1bW1hcnkgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGFkZFNlcGFyYXRvcigpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMud3JhcCgnaHInLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkUmF3KGVsZW1lbnQpLmFkZEVPTCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIEhUTUwgbGluZSBicmVhayAoPGJyPikgdG8gdGhlIHN1bW1hcnkgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGFkZEJyZWFrKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy53cmFwKCdicicsIG51bGwpO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRSYXcoZWxlbWVudCkuYWRkRU9MKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gSFRNTCBibG9ja3F1b3RlIHRvIHRoZSBzdW1tYXJ5IGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgcXVvdGUgdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjaXRlIChvcHRpb25hbCkgY2l0YXRpb24gdXJsXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7U3VtbWFyeX0gc3VtbWFyeSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGFkZFF1b3RlKHRleHQsIGNpdGUpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBPYmplY3QuYXNzaWduKHt9LCAoY2l0ZSAmJiB7IGNpdGUgfSkpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy53cmFwKCdibG9ja3F1b3RlJywgdGV4dCwgYXR0cnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRSYXcoZWxlbWVudCkuYWRkRU9MKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gSFRNTCBhbmNob3IgdGFnIHRvIHRoZSBzdW1tYXJ5IGJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgbGluayB0ZXh0L2NvbnRlbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaHJlZiBoeXBlcmxpbmtcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtTdW1tYXJ5fSBzdW1tYXJ5IGluc3RhbmNlXG4gICAgICovXG4gICAgYWRkTGluayh0ZXh0LCBocmVmKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLndyYXAoJ2EnLCB0ZXh0LCB7IGhyZWYgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZFJhdyhlbGVtZW50KS5hZGRFT0woKTtcbiAgICB9XG59XG5jb25zdCBfc3VtbWFyeSA9IG5ldyBTdW1tYXJ5KCk7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBgY29yZS5zdW1tYXJ5YFxuICovXG5leHBvcnRzLm1hcmtkb3duU3VtbWFyeSA9IF9zdW1tYXJ5O1xuZXhwb3J0cy5zdW1tYXJ5ID0gX3N1bW1hcnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdW1tYXJ5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gV2UgdXNlIGFueSBhcyBhIHZhbGlkIGlucHV0IHR5cGVcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudG9Db21tYW5kUHJvcGVydGllcyA9IGV4cG9ydHMudG9Db21tYW5kVmFsdWUgPSB2b2lkIDA7XG4vKipcbiAqIFNhbml0aXplcyBhbiBpbnB1dCBpbnRvIGEgc3RyaW5nIHNvIGl0IGNhbiBiZSBwYXNzZWQgaW50byBpc3N1ZUNvbW1hbmQgc2FmZWx5XG4gKiBAcGFyYW0gaW5wdXQgaW5wdXQgdG8gc2FuaXRpemUgaW50byBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiB0b0NvbW1hbmRWYWx1ZShpbnB1dCkge1xuICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBpbnB1dCBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpbnB1dCk7XG59XG5leHBvcnRzLnRvQ29tbWFuZFZhbHVlID0gdG9Db21tYW5kVmFsdWU7XG4vKipcbiAqXG4gKiBAcGFyYW0gYW5ub3RhdGlvblByb3BlcnRpZXNcbiAqIEByZXR1cm5zIFRoZSBjb21tYW5kIHByb3BlcnRpZXMgdG8gc2VuZCB3aXRoIHRoZSBhY3R1YWwgYW5ub3RhdGlvbiBjb21tYW5kXG4gKiBTZWUgSXNzdWVDb21tYW5kUHJvcGVydGllczogaHR0cHM6Ly9naXRodWIuY29tL2FjdGlvbnMvcnVubmVyL2Jsb2IvbWFpbi9zcmMvUnVubmVyLldvcmtlci9BY3Rpb25Db21tYW5kTWFuYWdlci5jcyNMNjQ2XG4gKi9cbmZ1bmN0aW9uIHRvQ29tbWFuZFByb3BlcnRpZXMoYW5ub3RhdGlvblByb3BlcnRpZXMpIHtcbiAgICBpZiAoIU9iamVjdC5rZXlzKGFubm90YXRpb25Qcm9wZXJ0aWVzKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogYW5ub3RhdGlvblByb3BlcnRpZXMudGl0bGUsXG4gICAgICAgIGZpbGU6IGFubm90YXRpb25Qcm9wZXJ0aWVzLmZpbGUsXG4gICAgICAgIGxpbmU6IGFubm90YXRpb25Qcm9wZXJ0aWVzLnN0YXJ0TGluZSxcbiAgICAgICAgZW5kTGluZTogYW5ub3RhdGlvblByb3BlcnRpZXMuZW5kTGluZSxcbiAgICAgICAgY29sOiBhbm5vdGF0aW9uUHJvcGVydGllcy5zdGFydENvbHVtbixcbiAgICAgICAgZW5kQ29sdW1uOiBhbm5vdGF0aW9uUHJvcGVydGllcy5lbmRDb2x1bW5cbiAgICB9O1xufVxuZXhwb3J0cy50b0NvbW1hbmRQcm9wZXJ0aWVzID0gdG9Db21tYW5kUHJvcGVydGllcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBlcnNvbmFsQWNjZXNzVG9rZW5DcmVkZW50aWFsSGFuZGxlciA9IGV4cG9ydHMuQmVhcmVyQ3JlZGVudGlhbEhhbmRsZXIgPSBleHBvcnRzLkJhc2ljQ3JlZGVudGlhbEhhbmRsZXIgPSB2b2lkIDA7XG5jbGFzcyBCYXNpY0NyZWRlbnRpYWxIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgfVxuICAgIHByZXBhcmVSZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdUaGUgcmVxdWVzdCBoYXMgbm8gaGVhZGVycycpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJhc2ljICR7QnVmZmVyLmZyb20oYCR7dGhpcy51c2VybmFtZX06JHt0aGlzLnBhc3N3b3JkfWApLnRvU3RyaW5nKCdiYXNlNjQnKX1gO1xuICAgIH1cbiAgICAvLyBUaGlzIGhhbmRsZXIgY2Fubm90IGhhbmRsZSA0MDFcbiAgICBjYW5IYW5kbGVBdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBoYW5kbGVBdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzaWNDcmVkZW50aWFsSGFuZGxlciA9IEJhc2ljQ3JlZGVudGlhbEhhbmRsZXI7XG5jbGFzcyBCZWFyZXJDcmVkZW50aWFsSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IodG9rZW4pIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIH1cbiAgICAvLyBjdXJyZW50bHkgaW1wbGVtZW50cyBwcmUtYXV0aG9yaXphdGlvblxuICAgIC8vIFRPRE86IHN1cHBvcnQgcHJlQXV0aCA9IGZhbHNlIHdoZXJlIGl0IGhvb2tzIG9uIDQwMVxuICAgIHByZXBhcmVSZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdUaGUgcmVxdWVzdCBoYXMgbm8gaGVhZGVycycpO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3RoaXMudG9rZW59YDtcbiAgICB9XG4gICAgLy8gVGhpcyBoYW5kbGVyIGNhbm5vdCBoYW5kbGUgNDAxXG4gICAgY2FuSGFuZGxlQXV0aGVudGljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaGFuZGxlQXV0aGVudGljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkJlYXJlckNyZWRlbnRpYWxIYW5kbGVyID0gQmVhcmVyQ3JlZGVudGlhbEhhbmRsZXI7XG5jbGFzcyBQZXJzb25hbEFjY2Vzc1Rva2VuQ3JlZGVudGlhbEhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKHRva2VuKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB9XG4gICAgLy8gY3VycmVudGx5IGltcGxlbWVudHMgcHJlLWF1dGhvcml6YXRpb25cbiAgICAvLyBUT0RPOiBzdXBwb3J0IHByZUF1dGggPSBmYWxzZSB3aGVyZSBpdCBob29rcyBvbiA0MDFcbiAgICBwcmVwYXJlUmVxdWVzdChvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVGhlIHJlcXVlc3QgaGFzIG5vIGhlYWRlcnMnKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCYXNpYyAke0J1ZmZlci5mcm9tKGBQQVQ6JHt0aGlzLnRva2VufWApLnRvU3RyaW5nKCdiYXNlNjQnKX1gO1xuICAgIH1cbiAgICAvLyBUaGlzIGhhbmRsZXIgY2Fubm90IGhhbmRsZSA0MDFcbiAgICBjYW5IYW5kbGVBdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBoYW5kbGVBdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuUGVyc29uYWxBY2Nlc3NUb2tlbkNyZWRlbnRpYWxIYW5kbGVyID0gUGVyc29uYWxBY2Nlc3NUb2tlbkNyZWRlbnRpYWxIYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSHR0cENsaWVudCA9IGV4cG9ydHMuaXNIdHRwcyA9IGV4cG9ydHMuSHR0cENsaWVudFJlc3BvbnNlID0gZXhwb3J0cy5IdHRwQ2xpZW50RXJyb3IgPSBleHBvcnRzLmdldFByb3h5VXJsID0gZXhwb3J0cy5NZWRpYVR5cGVzID0gZXhwb3J0cy5IZWFkZXJzID0gZXhwb3J0cy5IdHRwQ29kZXMgPSB2b2lkIDA7XG5jb25zdCBodHRwID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJodHRwXCIpKTtcbmNvbnN0IGh0dHBzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJodHRwc1wiKSk7XG5jb25zdCBwbSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9wcm94eVwiKSk7XG5jb25zdCB0dW5uZWwgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInR1bm5lbFwiKSk7XG52YXIgSHR0cENvZGVzO1xuKGZ1bmN0aW9uIChIdHRwQ29kZXMpIHtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiT0tcIl0gPSAyMDBdID0gXCJPS1wiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJNdWx0aXBsZUNob2ljZXNcIl0gPSAzMDBdID0gXCJNdWx0aXBsZUNob2ljZXNcIjtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiTW92ZWRQZXJtYW5lbnRseVwiXSA9IDMwMV0gPSBcIk1vdmVkUGVybWFuZW50bHlcIjtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiUmVzb3VyY2VNb3ZlZFwiXSA9IDMwMl0gPSBcIlJlc291cmNlTW92ZWRcIjtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiU2VlT3RoZXJcIl0gPSAzMDNdID0gXCJTZWVPdGhlclwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJOb3RNb2RpZmllZFwiXSA9IDMwNF0gPSBcIk5vdE1vZGlmaWVkXCI7XG4gICAgSHR0cENvZGVzW0h0dHBDb2Rlc1tcIlVzZVByb3h5XCJdID0gMzA1XSA9IFwiVXNlUHJveHlcIjtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiU3dpdGNoUHJveHlcIl0gPSAzMDZdID0gXCJTd2l0Y2hQcm94eVwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJUZW1wb3JhcnlSZWRpcmVjdFwiXSA9IDMwN10gPSBcIlRlbXBvcmFyeVJlZGlyZWN0XCI7XG4gICAgSHR0cENvZGVzW0h0dHBDb2Rlc1tcIlBlcm1hbmVudFJlZGlyZWN0XCJdID0gMzA4XSA9IFwiUGVybWFuZW50UmVkaXJlY3RcIjtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiQmFkUmVxdWVzdFwiXSA9IDQwMF0gPSBcIkJhZFJlcXVlc3RcIjtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiVW5hdXRob3JpemVkXCJdID0gNDAxXSA9IFwiVW5hdXRob3JpemVkXCI7XG4gICAgSHR0cENvZGVzW0h0dHBDb2Rlc1tcIlBheW1lbnRSZXF1aXJlZFwiXSA9IDQwMl0gPSBcIlBheW1lbnRSZXF1aXJlZFwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJGb3JiaWRkZW5cIl0gPSA0MDNdID0gXCJGb3JiaWRkZW5cIjtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiTm90Rm91bmRcIl0gPSA0MDRdID0gXCJOb3RGb3VuZFwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJNZXRob2ROb3RBbGxvd2VkXCJdID0gNDA1XSA9IFwiTWV0aG9kTm90QWxsb3dlZFwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJOb3RBY2NlcHRhYmxlXCJdID0gNDA2XSA9IFwiTm90QWNjZXB0YWJsZVwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWRcIl0gPSA0MDddID0gXCJQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWRcIjtcbiAgICBIdHRwQ29kZXNbSHR0cENvZGVzW1wiUmVxdWVzdFRpbWVvdXRcIl0gPSA0MDhdID0gXCJSZXF1ZXN0VGltZW91dFwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJDb25mbGljdFwiXSA9IDQwOV0gPSBcIkNvbmZsaWN0XCI7XG4gICAgSHR0cENvZGVzW0h0dHBDb2Rlc1tcIkdvbmVcIl0gPSA0MTBdID0gXCJHb25lXCI7XG4gICAgSHR0cENvZGVzW0h0dHBDb2Rlc1tcIlRvb01hbnlSZXF1ZXN0c1wiXSA9IDQyOV0gPSBcIlRvb01hbnlSZXF1ZXN0c1wiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJJbnRlcm5hbFNlcnZlckVycm9yXCJdID0gNTAwXSA9IFwiSW50ZXJuYWxTZXJ2ZXJFcnJvclwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJOb3RJbXBsZW1lbnRlZFwiXSA9IDUwMV0gPSBcIk5vdEltcGxlbWVudGVkXCI7XG4gICAgSHR0cENvZGVzW0h0dHBDb2Rlc1tcIkJhZEdhdGV3YXlcIl0gPSA1MDJdID0gXCJCYWRHYXRld2F5XCI7XG4gICAgSHR0cENvZGVzW0h0dHBDb2Rlc1tcIlNlcnZpY2VVbmF2YWlsYWJsZVwiXSA9IDUwM10gPSBcIlNlcnZpY2VVbmF2YWlsYWJsZVwiO1xuICAgIEh0dHBDb2Rlc1tIdHRwQ29kZXNbXCJHYXRld2F5VGltZW91dFwiXSA9IDUwNF0gPSBcIkdhdGV3YXlUaW1lb3V0XCI7XG59KShIdHRwQ29kZXMgPSBleHBvcnRzLkh0dHBDb2RlcyB8fCAoZXhwb3J0cy5IdHRwQ29kZXMgPSB7fSkpO1xudmFyIEhlYWRlcnM7XG4oZnVuY3Rpb24gKEhlYWRlcnMpIHtcbiAgICBIZWFkZXJzW1wiQWNjZXB0XCJdID0gXCJhY2NlcHRcIjtcbiAgICBIZWFkZXJzW1wiQ29udGVudFR5cGVcIl0gPSBcImNvbnRlbnQtdHlwZVwiO1xufSkoSGVhZGVycyA9IGV4cG9ydHMuSGVhZGVycyB8fCAoZXhwb3J0cy5IZWFkZXJzID0ge30pKTtcbnZhciBNZWRpYVR5cGVzO1xuKGZ1bmN0aW9uIChNZWRpYVR5cGVzKSB7XG4gICAgTWVkaWFUeXBlc1tcIkFwcGxpY2F0aW9uSnNvblwiXSA9IFwiYXBwbGljYXRpb24vanNvblwiO1xufSkoTWVkaWFUeXBlcyA9IGV4cG9ydHMuTWVkaWFUeXBlcyB8fCAoZXhwb3J0cy5NZWRpYVR5cGVzID0ge30pKTtcbi8qKlxuICogUmV0dXJucyB0aGUgcHJveHkgVVJMLCBkZXBlbmRpbmcgdXBvbiB0aGUgc3VwcGxpZWQgdXJsIGFuZCBwcm94eSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gKiBAcGFyYW0gc2VydmVyVXJsICBUaGUgc2VydmVyIFVSTCB3aGVyZSB0aGUgcmVxdWVzdCB3aWxsIGJlIHNlbnQuIEZvciBleGFtcGxlLCBodHRwczovL2FwaS5naXRodWIuY29tXG4gKi9cbmZ1bmN0aW9uIGdldFByb3h5VXJsKHNlcnZlclVybCkge1xuICAgIGNvbnN0IHByb3h5VXJsID0gcG0uZ2V0UHJveHlVcmwobmV3IFVSTChzZXJ2ZXJVcmwpKTtcbiAgICByZXR1cm4gcHJveHlVcmwgPyBwcm94eVVybC5ocmVmIDogJyc7XG59XG5leHBvcnRzLmdldFByb3h5VXJsID0gZ2V0UHJveHlVcmw7XG5jb25zdCBIdHRwUmVkaXJlY3RDb2RlcyA9IFtcbiAgICBIdHRwQ29kZXMuTW92ZWRQZXJtYW5lbnRseSxcbiAgICBIdHRwQ29kZXMuUmVzb3VyY2VNb3ZlZCxcbiAgICBIdHRwQ29kZXMuU2VlT3RoZXIsXG4gICAgSHR0cENvZGVzLlRlbXBvcmFyeVJlZGlyZWN0LFxuICAgIEh0dHBDb2Rlcy5QZXJtYW5lbnRSZWRpcmVjdFxuXTtcbmNvbnN0IEh0dHBSZXNwb25zZVJldHJ5Q29kZXMgPSBbXG4gICAgSHR0cENvZGVzLkJhZEdhdGV3YXksXG4gICAgSHR0cENvZGVzLlNlcnZpY2VVbmF2YWlsYWJsZSxcbiAgICBIdHRwQ29kZXMuR2F0ZXdheVRpbWVvdXRcbl07XG5jb25zdCBSZXRyeWFibGVIdHRwVmVyYnMgPSBbJ09QVElPTlMnLCAnR0VUJywgJ0RFTEVURScsICdIRUFEJ107XG5jb25zdCBFeHBvbmVudGlhbEJhY2tvZmZDZWlsaW5nID0gMTA7XG5jb25zdCBFeHBvbmVudGlhbEJhY2tvZmZUaW1lU2xpY2UgPSA1O1xuY2xhc3MgSHR0cENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1c0NvZGUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdIdHRwQ2xpZW50RXJyb3InO1xuICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSHR0cENsaWVudEVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwQ2xpZW50RXJyb3IgPSBIdHRwQ2xpZW50RXJyb3I7XG5jbGFzcyBIdHRwQ2xpZW50UmVzcG9uc2Uge1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4gICAgcmVhZEJvZHkoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgb3V0cHV0ID0gQnVmZmVyLmFsbG9jKDApO1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZS5vbignZGF0YScsIChjaHVuaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBCdWZmZXIuY29uY2F0KFtvdXRwdXQsIGNodW5rXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3V0cHV0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkh0dHBDbGllbnRSZXNwb25zZSA9IEh0dHBDbGllbnRSZXNwb25zZTtcbmZ1bmN0aW9uIGlzSHR0cHMocmVxdWVzdFVybCkge1xuICAgIGNvbnN0IHBhcnNlZFVybCA9IG5ldyBVUkwocmVxdWVzdFVybCk7XG4gICAgcmV0dXJuIHBhcnNlZFVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG59XG5leHBvcnRzLmlzSHR0cHMgPSBpc0h0dHBzO1xuY2xhc3MgSHR0cENsaWVudCB7XG4gICAgY29uc3RydWN0b3IodXNlckFnZW50LCBoYW5kbGVycywgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5faWdub3JlU3NsRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYWxsb3dSZWRpcmVjdHMgPSB0cnVlO1xuICAgICAgICB0aGlzLl9hbGxvd1JlZGlyZWN0RG93bmdyYWRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21heFJlZGlyZWN0cyA9IDUwO1xuICAgICAgICB0aGlzLl9hbGxvd1JldHJpZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbWF4UmV0cmllcyA9IDE7XG4gICAgICAgIHRoaXMuX2tlZXBBbGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVzZXJBZ2VudCA9IHVzZXJBZ2VudDtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IGhhbmRsZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLnJlcXVlc3RPcHRpb25zID0gcmVxdWVzdE9wdGlvbnM7XG4gICAgICAgIGlmIChyZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zLmlnbm9yZVNzbEVycm9yICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pZ25vcmVTc2xFcnJvciA9IHJlcXVlc3RPcHRpb25zLmlnbm9yZVNzbEVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc29ja2V0VGltZW91dCA9IHJlcXVlc3RPcHRpb25zLnNvY2tldFRpbWVvdXQ7XG4gICAgICAgICAgICBpZiAocmVxdWVzdE9wdGlvbnMuYWxsb3dSZWRpcmVjdHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsbG93UmVkaXJlY3RzID0gcmVxdWVzdE9wdGlvbnMuYWxsb3dSZWRpcmVjdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxdWVzdE9wdGlvbnMuYWxsb3dSZWRpcmVjdERvd25ncmFkZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxsb3dSZWRpcmVjdERvd25ncmFkZSA9IHJlcXVlc3RPcHRpb25zLmFsbG93UmVkaXJlY3REb3duZ3JhZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxdWVzdE9wdGlvbnMubWF4UmVkaXJlY3RzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXhSZWRpcmVjdHMgPSBNYXRoLm1heChyZXF1ZXN0T3B0aW9ucy5tYXhSZWRpcmVjdHMsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zLmtlZXBBbGl2ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fa2VlcEFsaXZlID0gcmVxdWVzdE9wdGlvbnMua2VlcEFsaXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zLmFsbG93UmV0cmllcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxsb3dSZXRyaWVzID0gcmVxdWVzdE9wdGlvbnMuYWxsb3dSZXRyaWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcXVlc3RPcHRpb25zLm1heFJldHJpZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21heFJldHJpZXMgPSByZXF1ZXN0T3B0aW9ucy5tYXhSZXRyaWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG9wdGlvbnMocmVxdWVzdFVybCwgYWRkaXRpb25hbEhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ09QVElPTlMnLCByZXF1ZXN0VXJsLCBudWxsLCBhZGRpdGlvbmFsSGVhZGVycyB8fCB7fSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQocmVxdWVzdFVybCwgYWRkaXRpb25hbEhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ0dFVCcsIHJlcXVlc3RVcmwsIG51bGwsIGFkZGl0aW9uYWxIZWFkZXJzIHx8IHt9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlbChyZXF1ZXN0VXJsLCBhZGRpdGlvbmFsSGVhZGVycykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnREVMRVRFJywgcmVxdWVzdFVybCwgbnVsbCwgYWRkaXRpb25hbEhlYWRlcnMgfHwge30pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zdChyZXF1ZXN0VXJsLCBkYXRhLCBhZGRpdGlvbmFsSGVhZGVycykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUE9TVCcsIHJlcXVlc3RVcmwsIGRhdGEsIGFkZGl0aW9uYWxIZWFkZXJzIHx8IHt9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhdGNoKHJlcXVlc3RVcmwsIGRhdGEsIGFkZGl0aW9uYWxIZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQQVRDSCcsIHJlcXVlc3RVcmwsIGRhdGEsIGFkZGl0aW9uYWxIZWFkZXJzIHx8IHt9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHB1dChyZXF1ZXN0VXJsLCBkYXRhLCBhZGRpdGlvbmFsSGVhZGVycykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUFVUJywgcmVxdWVzdFVybCwgZGF0YSwgYWRkaXRpb25hbEhlYWRlcnMgfHwge30pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGVhZChyZXF1ZXN0VXJsLCBhZGRpdGlvbmFsSGVhZGVycykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnSEVBRCcsIHJlcXVlc3RVcmwsIG51bGwsIGFkZGl0aW9uYWxIZWFkZXJzIHx8IHt9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbmRTdHJlYW0odmVyYiwgcmVxdWVzdFVybCwgc3RyZWFtLCBhZGRpdGlvbmFsSGVhZGVycykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh2ZXJiLCByZXF1ZXN0VXJsLCBzdHJlYW0sIGFkZGl0aW9uYWxIZWFkZXJzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0eXBlZCBvYmplY3QgZnJvbSBhbiBlbmRwb2ludFxuICAgICAqIEJlIGF3YXJlIHRoYXQgbm90IGZvdW5kIHJldHVybnMgYSBudWxsLiAgT3RoZXIgZXJyb3JzICg0eHgsIDV4eCkgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICovXG4gICAgZ2V0SnNvbihyZXF1ZXN0VXJsLCBhZGRpdGlvbmFsSGVhZGVycyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBhZGRpdGlvbmFsSGVhZGVyc1tIZWFkZXJzLkFjY2VwdF0gPSB0aGlzLl9nZXRFeGlzdGluZ09yRGVmYXVsdEhlYWRlcihhZGRpdGlvbmFsSGVhZGVycywgSGVhZGVycy5BY2NlcHQsIE1lZGlhVHlwZXMuQXBwbGljYXRpb25Kc29uKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHlpZWxkIHRoaXMuZ2V0KHJlcXVlc3RVcmwsIGFkZGl0aW9uYWxIZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzLCB0aGlzLnJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc3RKc29uKHJlcXVlc3RVcmwsIG9iaiwgYWRkaXRpb25hbEhlYWRlcnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgICAgICAgICBhZGRpdGlvbmFsSGVhZGVyc1tIZWFkZXJzLkFjY2VwdF0gPSB0aGlzLl9nZXRFeGlzdGluZ09yRGVmYXVsdEhlYWRlcihhZGRpdGlvbmFsSGVhZGVycywgSGVhZGVycy5BY2NlcHQsIE1lZGlhVHlwZXMuQXBwbGljYXRpb25Kc29uKTtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxIZWFkZXJzW0hlYWRlcnMuQ29udGVudFR5cGVdID0gdGhpcy5fZ2V0RXhpc3RpbmdPckRlZmF1bHRIZWFkZXIoYWRkaXRpb25hbEhlYWRlcnMsIEhlYWRlcnMuQ29udGVudFR5cGUsIE1lZGlhVHlwZXMuQXBwbGljYXRpb25Kc29uKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHlpZWxkIHRoaXMucG9zdChyZXF1ZXN0VXJsLCBkYXRhLCBhZGRpdGlvbmFsSGVhZGVycyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKHJlcywgdGhpcy5yZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwdXRKc29uKHJlcXVlc3RVcmwsIG9iaiwgYWRkaXRpb25hbEhlYWRlcnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgICAgICAgICBhZGRpdGlvbmFsSGVhZGVyc1tIZWFkZXJzLkFjY2VwdF0gPSB0aGlzLl9nZXRFeGlzdGluZ09yRGVmYXVsdEhlYWRlcihhZGRpdGlvbmFsSGVhZGVycywgSGVhZGVycy5BY2NlcHQsIE1lZGlhVHlwZXMuQXBwbGljYXRpb25Kc29uKTtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxIZWFkZXJzW0hlYWRlcnMuQ29udGVudFR5cGVdID0gdGhpcy5fZ2V0RXhpc3RpbmdPckRlZmF1bHRIZWFkZXIoYWRkaXRpb25hbEhlYWRlcnMsIEhlYWRlcnMuQ29udGVudFR5cGUsIE1lZGlhVHlwZXMuQXBwbGljYXRpb25Kc29uKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHlpZWxkIHRoaXMucHV0KHJlcXVlc3RVcmwsIGRhdGEsIGFkZGl0aW9uYWxIZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzLCB0aGlzLnJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhdGNoSnNvbihyZXF1ZXN0VXJsLCBvYmosIGFkZGl0aW9uYWxIZWFkZXJzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xuICAgICAgICAgICAgYWRkaXRpb25hbEhlYWRlcnNbSGVhZGVycy5BY2NlcHRdID0gdGhpcy5fZ2V0RXhpc3RpbmdPckRlZmF1bHRIZWFkZXIoYWRkaXRpb25hbEhlYWRlcnMsIEhlYWRlcnMuQWNjZXB0LCBNZWRpYVR5cGVzLkFwcGxpY2F0aW9uSnNvbik7XG4gICAgICAgICAgICBhZGRpdGlvbmFsSGVhZGVyc1tIZWFkZXJzLkNvbnRlbnRUeXBlXSA9IHRoaXMuX2dldEV4aXN0aW5nT3JEZWZhdWx0SGVhZGVyKGFkZGl0aW9uYWxIZWFkZXJzLCBIZWFkZXJzLkNvbnRlbnRUeXBlLCBNZWRpYVR5cGVzLkFwcGxpY2F0aW9uSnNvbik7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCB0aGlzLnBhdGNoKHJlcXVlc3RVcmwsIGRhdGEsIGFkZGl0aW9uYWxIZWFkZXJzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzLCB0aGlzLnJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgcmF3IGh0dHAgcmVxdWVzdC5cbiAgICAgKiBBbGwgb3RoZXIgbWV0aG9kcyBzdWNoIGFzIGdldCwgcG9zdCwgcGF0Y2gsIGFuZCByZXF1ZXN0IHVsdGltYXRlbHkgY2FsbCB0aGlzLlxuICAgICAqIFByZWZlciBnZXQsIGRlbCwgcG9zdCBhbmQgcGF0Y2hcbiAgICAgKi9cbiAgICByZXF1ZXN0KHZlcmIsIHJlcXVlc3RVcmwsIGRhdGEsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRVcmwgPSBuZXcgVVJMKHJlcXVlc3RVcmwpO1xuICAgICAgICAgICAgbGV0IGluZm8gPSB0aGlzLl9wcmVwYXJlUmVxdWVzdCh2ZXJiLCBwYXJzZWRVcmwsIGhlYWRlcnMpO1xuICAgICAgICAgICAgLy8gT25seSBwZXJmb3JtIHJldHJpZXMgb24gcmVhZHMgc2luY2Ugd3JpdGVzIG1heSBub3QgYmUgaWRlbXBvdGVudC5cbiAgICAgICAgICAgIGNvbnN0IG1heFRyaWVzID0gdGhpcy5fYWxsb3dSZXRyaWVzICYmIFJldHJ5YWJsZUh0dHBWZXJicy5pbmNsdWRlcyh2ZXJiKVxuICAgICAgICAgICAgICAgID8gdGhpcy5fbWF4UmV0cmllcyArIDFcbiAgICAgICAgICAgICAgICA6IDE7XG4gICAgICAgICAgICBsZXQgbnVtVHJpZXMgPSAwO1xuICAgICAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0geWllbGQgdGhpcy5yZXF1ZXN0UmF3KGluZm8sIGRhdGEpO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgYW4gYXV0aGVudGljYXRpb24gY2hhbGxlbmdlXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLm1lc3NhZ2UgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UubWVzc2FnZS5zdGF0dXNDb2RlID09PSBIdHRwQ29kZXMuVW5hdXRob3JpemVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhdXRoZW50aWNhdGlvbkhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiB0aGlzLmhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlci5jYW5IYW5kbGVBdXRoZW50aWNhdGlvbihyZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbkhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvbkhhbmRsZXIuaGFuZGxlQXV0aGVudGljYXRpb24odGhpcywgaW5mbywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHJlY2VpdmVkIGFuIHVuYXV0aG9yaXplZCByZXNwb25zZSBidXQgaGF2ZSBubyBoYW5kbGVycyB0byBoYW5kbGUgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXQgdGhlIHJlc3BvbnNlIHJldHVybiB0byB0aGUgY2FsbGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByZWRpcmVjdHNSZW1haW5pbmcgPSB0aGlzLl9tYXhSZWRpcmVjdHM7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSAmJlxuICAgICAgICAgICAgICAgICAgICBIdHRwUmVkaXJlY3RDb2Rlcy5pbmNsdWRlcyhyZXNwb25zZS5tZXNzYWdlLnN0YXR1c0NvZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FsbG93UmVkaXJlY3RzICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0c1JlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVkaXJlY3RVcmwgPSByZXNwb25zZS5tZXNzYWdlLmhlYWRlcnNbJ2xvY2F0aW9uJ107XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVkaXJlY3RVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbG9jYXRpb24gdG8gcmVkaXJlY3QgdG8sIHdlIHdvbid0XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZWRpcmVjdFVybCA9IG5ldyBVUkwocmVkaXJlY3RVcmwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkVXJsLnByb3RvY29sID09PSAnaHR0cHM6JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkVXJsLnByb3RvY29sICE9PSBwYXJzZWRSZWRpcmVjdFVybC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2FsbG93UmVkaXJlY3REb3duZ3JhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVkaXJlY3QgZnJvbSBIVFRQUyB0byBIVFRQIHByb3RvY29sLiBUaGlzIGRvd25ncmFkZSBpcyBub3QgYWxsb3dlZCBmb3Igc2VjdXJpdHkgcmVhc29ucy4gSWYgeW91IHdhbnQgdG8gYWxsb3cgdGhpcyBiZWhhdmlvciwgc2V0IHRoZSBhbGxvd1JlZGlyZWN0RG93bmdyYWRlIG9wdGlvbiB0byB0cnVlLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZmluaXNoIHJlYWRpbmcgdGhlIHJlc3BvbnNlIGJlZm9yZSByZWFzc2lnbmluZyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCB3aWxsIGxlYWsgdGhlIG9wZW4gc29ja2V0LlxuICAgICAgICAgICAgICAgICAgICB5aWVsZCByZXNwb25zZS5yZWFkQm9keSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpcCBhdXRob3JpemF0aW9uIGhlYWRlciBpZiByZWRpcmVjdGVkIHRvIGEgZGlmZmVyZW50IGhvc3RuYW1lXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRSZWRpcmVjdFVybC5ob3N0bmFtZSAhPT0gcGFyc2VkVXJsLmhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGVhZGVyIG5hbWVzIGFyZSBjYXNlIGluc2Vuc2l0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlci50b0xvd2VyQ2FzZSgpID09PSAnYXV0aG9yaXphdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGhlYWRlcnNbaGVhZGVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0J3MgbWFrZSB0aGUgcmVxdWVzdCB3aXRoIHRoZSBuZXcgcmVkaXJlY3RVcmxcbiAgICAgICAgICAgICAgICAgICAgaW5mbyA9IHRoaXMuX3ByZXBhcmVSZXF1ZXN0KHZlcmIsIHBhcnNlZFJlZGlyZWN0VXJsLCBoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnJlcXVlc3RSYXcoaW5mbywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0c1JlbWFpbmluZy0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm1lc3NhZ2Uuc3RhdHVzQ29kZSB8fFxuICAgICAgICAgICAgICAgICAgICAhSHR0cFJlc3BvbnNlUmV0cnlDb2Rlcy5pbmNsdWRlcyhyZXNwb25zZS5tZXNzYWdlLnN0YXR1c0NvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG5vdCBhIHJldHJ5IGNvZGUsIHJldHVybiBpbW1lZGlhdGVseSBpbnN0ZWFkIG9mIHJldHJ5aW5nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbnVtVHJpZXMgKz0gMTtcbiAgICAgICAgICAgICAgICBpZiAobnVtVHJpZXMgPCBtYXhUcmllcykge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCByZXNwb25zZS5yZWFkQm9keSgpO1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLl9wZXJmb3JtRXhwb25lbnRpYWxCYWNrb2ZmKG51bVRyaWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChudW1UcmllcyA8IG1heFRyaWVzKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5lZWRzIHRvIGJlIGNhbGxlZCBpZiBrZWVwQWxpdmUgaXMgc2V0IHRvIHRydWUgaW4gcmVxdWVzdCBvcHRpb25zLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hZ2VudCkge1xuICAgICAgICAgICAgdGhpcy5fYWdlbnQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmF3IHJlcXVlc3QuXG4gICAgICogQHBhcmFtIGluZm9cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHJlcXVlc3RSYXcoaW5mbywgZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjYWxsYmFja0ZvclJlc3VsdChlcnIsIHJlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBgZXJyYCBpcyBub3QgcGFzc2VkLCB0aGVuIGByZXNgIG11c3QgYmUgcGFzc2VkLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVW5rbm93biBlcnJvcicpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RSYXdXaXRoQ2FsbGJhY2soaW5mbywgZGF0YSwgY2FsbGJhY2tGb3JSZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSYXcgcmVxdWVzdCB3aXRoIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSBpbmZvXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcGFyYW0gb25SZXN1bHRcbiAgICAgKi9cbiAgICByZXF1ZXN0UmF3V2l0aENhbGxiYWNrKGluZm8sIGRhdGEsIG9uUmVzdWx0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICghaW5mby5vcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBpbmZvLm9wdGlvbnMuaGVhZGVycyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5mby5vcHRpb25zLmhlYWRlcnNbJ0NvbnRlbnQtTGVuZ3RoJ10gPSBCdWZmZXIuYnl0ZUxlbmd0aChkYXRhLCAndXRmOCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjYWxsYmFja0NhbGxlZCA9IGZhbHNlO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoZXJyLCByZXMpIHtcbiAgICAgICAgICAgIGlmICghY2FsbGJhY2tDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja0NhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb25SZXN1bHQoZXJyLCByZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcSA9IGluZm8uaHR0cE1vZHVsZS5yZXF1ZXN0KGluZm8ub3B0aW9ucywgKG1zZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gbmV3IEh0dHBDbGllbnRSZXNwb25zZShtc2cpO1xuICAgICAgICAgICAgaGFuZGxlUmVzdWx0KHVuZGVmaW5lZCwgcmVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBzb2NrZXQ7XG4gICAgICAgIHJlcS5vbignc29ja2V0Jywgc29jayA9PiB7XG4gICAgICAgICAgICBzb2NrZXQgPSBzb2NrO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gSWYgd2UgZXZlciBnZXQgZGlzY29ubmVjdGVkLCB3ZSB3YW50IHRoZSBzb2NrZXQgdG8gdGltZW91dCBldmVudHVhbGx5XG4gICAgICAgIHJlcS5zZXRUaW1lb3V0KHRoaXMuX3NvY2tldFRpbWVvdXQgfHwgMyAqIDYwMDAwLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc29ja2V0KSB7XG4gICAgICAgICAgICAgICAgc29ja2V0LmVuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlUmVzdWx0KG5ldyBFcnJvcihgUmVxdWVzdCB0aW1lb3V0OiAke2luZm8ub3B0aW9ucy5wYXRofWApKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcS5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAvLyBlcnIgaGFzIHN0YXR1c0NvZGUgcHJvcGVydHlcbiAgICAgICAgICAgIC8vIHJlcyBzaG91bGQgaGF2ZSBoZWFkZXJzXG4gICAgICAgICAgICBoYW5kbGVSZXN1bHQoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVxLndyaXRlKGRhdGEsICd1dGY4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEgJiYgdHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBkYXRhLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXEuZW5kKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRhdGEucGlwZShyZXEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVxLmVuZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gaHR0cCBhZ2VudC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWwgd2hlbiB5b3UgbmVlZCBhbiBodHRwIGFnZW50IHRoYXQgaGFuZGxlc1xuICAgICAqIHJvdXRpbmcgdGhyb3VnaCBhIHByb3h5IHNlcnZlciAtIGRlcGVuZGluZyB1cG9uIHRoZSB1cmwgYW5kIHByb3h5IGVudmlyb25tZW50IHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0gc2VydmVyVXJsICBUaGUgc2VydmVyIFVSTCB3aGVyZSB0aGUgcmVxdWVzdCB3aWxsIGJlIHNlbnQuIEZvciBleGFtcGxlLCBodHRwczovL2FwaS5naXRodWIuY29tXG4gICAgICovXG4gICAgZ2V0QWdlbnQoc2VydmVyVXJsKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFVybCA9IG5ldyBVUkwoc2VydmVyVXJsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEFnZW50KHBhcnNlZFVybCk7XG4gICAgfVxuICAgIF9wcmVwYXJlUmVxdWVzdChtZXRob2QsIHJlcXVlc3RVcmwsIGhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgaW5mbyA9IHt9O1xuICAgICAgICBpbmZvLnBhcnNlZFVybCA9IHJlcXVlc3RVcmw7XG4gICAgICAgIGNvbnN0IHVzaW5nU3NsID0gaW5mby5wYXJzZWRVcmwucHJvdG9jb2wgPT09ICdodHRwczonO1xuICAgICAgICBpbmZvLmh0dHBNb2R1bGUgPSB1c2luZ1NzbCA/IGh0dHBzIDogaHR0cDtcbiAgICAgICAgY29uc3QgZGVmYXVsdFBvcnQgPSB1c2luZ1NzbCA/IDQ0MyA6IDgwO1xuICAgICAgICBpbmZvLm9wdGlvbnMgPSB7fTtcbiAgICAgICAgaW5mby5vcHRpb25zLmhvc3QgPSBpbmZvLnBhcnNlZFVybC5ob3N0bmFtZTtcbiAgICAgICAgaW5mby5vcHRpb25zLnBvcnQgPSBpbmZvLnBhcnNlZFVybC5wb3J0XG4gICAgICAgICAgICA/IHBhcnNlSW50KGluZm8ucGFyc2VkVXJsLnBvcnQpXG4gICAgICAgICAgICA6IGRlZmF1bHRQb3J0O1xuICAgICAgICBpbmZvLm9wdGlvbnMucGF0aCA9XG4gICAgICAgICAgICAoaW5mby5wYXJzZWRVcmwucGF0aG5hbWUgfHwgJycpICsgKGluZm8ucGFyc2VkVXJsLnNlYXJjaCB8fCAnJyk7XG4gICAgICAgIGluZm8ub3B0aW9ucy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIGluZm8ub3B0aW9ucy5oZWFkZXJzID0gdGhpcy5fbWVyZ2VIZWFkZXJzKGhlYWRlcnMpO1xuICAgICAgICBpZiAodGhpcy51c2VyQWdlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5mby5vcHRpb25zLmhlYWRlcnNbJ3VzZXItYWdlbnQnXSA9IHRoaXMudXNlckFnZW50O1xuICAgICAgICB9XG4gICAgICAgIGluZm8ub3B0aW9ucy5hZ2VudCA9IHRoaXMuX2dldEFnZW50KGluZm8ucGFyc2VkVXJsKTtcbiAgICAgICAgLy8gZ2l2ZXMgaGFuZGxlcnMgYW4gb3Bwb3J0dW5pdHkgdG8gcGFydGljaXBhdGVcbiAgICAgICAgaWYgKHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiB0aGlzLmhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5wcmVwYXJlUmVxdWVzdChpbmZvLm9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbiAgICBfbWVyZ2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdE9wdGlvbnMgJiYgdGhpcy5yZXF1ZXN0T3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgbG93ZXJjYXNlS2V5cyh0aGlzLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMpLCBsb3dlcmNhc2VLZXlzKGhlYWRlcnMgfHwge30pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG93ZXJjYXNlS2V5cyhoZWFkZXJzIHx8IHt9KTtcbiAgICB9XG4gICAgX2dldEV4aXN0aW5nT3JEZWZhdWx0SGVhZGVyKGFkZGl0aW9uYWxIZWFkZXJzLCBoZWFkZXIsIF9kZWZhdWx0KSB7XG4gICAgICAgIGxldCBjbGllbnRIZWFkZXI7XG4gICAgICAgIGlmICh0aGlzLnJlcXVlc3RPcHRpb25zICYmIHRoaXMucmVxdWVzdE9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICAgICAgY2xpZW50SGVhZGVyID0gbG93ZXJjYXNlS2V5cyh0aGlzLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMpW2hlYWRlcl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFkZGl0aW9uYWxIZWFkZXJzW2hlYWRlcl0gfHwgY2xpZW50SGVhZGVyIHx8IF9kZWZhdWx0O1xuICAgIH1cbiAgICBfZ2V0QWdlbnQocGFyc2VkVXJsKSB7XG4gICAgICAgIGxldCBhZ2VudDtcbiAgICAgICAgY29uc3QgcHJveHlVcmwgPSBwbS5nZXRQcm94eVVybChwYXJzZWRVcmwpO1xuICAgICAgICBjb25zdCB1c2VQcm94eSA9IHByb3h5VXJsICYmIHByb3h5VXJsLmhvc3RuYW1lO1xuICAgICAgICBpZiAodGhpcy5fa2VlcEFsaXZlICYmIHVzZVByb3h5KSB7XG4gICAgICAgICAgICBhZ2VudCA9IHRoaXMuX3Byb3h5QWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2tlZXBBbGl2ZSAmJiAhdXNlUHJveHkpIHtcbiAgICAgICAgICAgIGFnZW50ID0gdGhpcy5fYWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYWdlbnQgaXMgYWxyZWFkeSBhc3NpZ25lZCB1c2UgdGhhdCBhZ2VudC5cbiAgICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gYWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNpbmdTc2wgPSBwYXJzZWRVcmwucHJvdG9jb2wgPT09ICdodHRwczonO1xuICAgICAgICBsZXQgbWF4U29ja2V0cyA9IDEwMDtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgICAgIG1heFNvY2tldHMgPSB0aGlzLnJlcXVlc3RPcHRpb25zLm1heFNvY2tldHMgfHwgaHR0cC5nbG9iYWxBZ2VudC5tYXhTb2NrZXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgaXMgYHVzZVByb3h5YCBhZ2FpbiwgYnV0IHdlIG5lZWQgdG8gY2hlY2sgYHByb3h5VVJsYCBkaXJlY3RseSBmb3IgVHlwZVNjcmlwdHMncyBmbG93IGFuYWx5c2lzLlxuICAgICAgICBpZiAocHJveHlVcmwgJiYgcHJveHlVcmwuaG9zdG5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGFnZW50T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBtYXhTb2NrZXRzLFxuICAgICAgICAgICAgICAgIGtlZXBBbGl2ZTogdGhpcy5fa2VlcEFsaXZlLFxuICAgICAgICAgICAgICAgIHByb3h5OiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgocHJveHlVcmwudXNlcm5hbWUgfHwgcHJveHlVcmwucGFzc3dvcmQpICYmIHtcbiAgICAgICAgICAgICAgICAgICAgcHJveHlBdXRoOiBgJHtwcm94eVVybC51c2VybmFtZX06JHtwcm94eVVybC5wYXNzd29yZH1gXG4gICAgICAgICAgICAgICAgfSkpLCB7IGhvc3Q6IHByb3h5VXJsLmhvc3RuYW1lLCBwb3J0OiBwcm94eVVybC5wb3J0IH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHR1bm5lbEFnZW50O1xuICAgICAgICAgICAgY29uc3Qgb3Zlckh0dHBzID0gcHJveHlVcmwucHJvdG9jb2wgPT09ICdodHRwczonO1xuICAgICAgICAgICAgaWYgKHVzaW5nU3NsKSB7XG4gICAgICAgICAgICAgICAgdHVubmVsQWdlbnQgPSBvdmVySHR0cHMgPyB0dW5uZWwuaHR0cHNPdmVySHR0cHMgOiB0dW5uZWwuaHR0cHNPdmVySHR0cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHR1bm5lbEFnZW50ID0gb3Zlckh0dHBzID8gdHVubmVsLmh0dHBPdmVySHR0cHMgOiB0dW5uZWwuaHR0cE92ZXJIdHRwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWdlbnQgPSB0dW5uZWxBZ2VudChhZ2VudE9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fcHJveHlBZ2VudCA9IGFnZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHJldXNpbmcgYWdlbnQgYWNyb3NzIHJlcXVlc3QgYW5kIHR1bm5lbGluZyBhZ2VudCBpc24ndCBhc3NpZ25lZCBjcmVhdGUgYSBuZXcgYWdlbnRcbiAgICAgICAgaWYgKHRoaXMuX2tlZXBBbGl2ZSAmJiAhYWdlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IGtlZXBBbGl2ZTogdGhpcy5fa2VlcEFsaXZlLCBtYXhTb2NrZXRzIH07XG4gICAgICAgICAgICBhZ2VudCA9IHVzaW5nU3NsID8gbmV3IGh0dHBzLkFnZW50KG9wdGlvbnMpIDogbmV3IGh0dHAuQWdlbnQob3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9hZ2VudCA9IGFnZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIG5vdCB1c2luZyBwcml2YXRlIGFnZW50IGFuZCB0dW5uZWwgYWdlbnQgaXNuJ3Qgc2V0dXAgdGhlbiB1c2UgZ2xvYmFsIGFnZW50XG4gICAgICAgIGlmICghYWdlbnQpIHtcbiAgICAgICAgICAgIGFnZW50ID0gdXNpbmdTc2wgPyBodHRwcy5nbG9iYWxBZ2VudCA6IGh0dHAuZ2xvYmFsQWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzaW5nU3NsICYmIHRoaXMuX2lnbm9yZVNzbEVycm9yKSB7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIHNldCBOT0RFX1RMU19SRUpFQ1RfVU5BVVRIT1JJWkVEPTAgc2luY2UgdGhhdCB3aWxsIGFmZmVjdCByZXF1ZXN0IGZvciBlbnRpcmUgcHJvY2Vzc1xuICAgICAgICAgICAgLy8gaHR0cC5SZXF1ZXN0T3B0aW9ucyBkb2Vzbid0IGV4cG9zZSBhIHdheSB0byBtb2RpZnkgUmVxdWVzdE9wdGlvbnMuYWdlbnQub3B0aW9uc1xuICAgICAgICAgICAgLy8gd2UgaGF2ZSB0byBjYXN0IGl0IHRvIGFueSBhbmQgY2hhbmdlIGl0IGRpcmVjdGx5XG4gICAgICAgICAgICBhZ2VudC5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihhZ2VudC5vcHRpb25zIHx8IHt9LCB7XG4gICAgICAgICAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFnZW50O1xuICAgIH1cbiAgICBfcGVyZm9ybUV4cG9uZW50aWFsQmFja29mZihyZXRyeU51bWJlcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0cnlOdW1iZXIgPSBNYXRoLm1pbihFeHBvbmVudGlhbEJhY2tvZmZDZWlsaW5nLCByZXRyeU51bWJlcik7XG4gICAgICAgICAgICBjb25zdCBtcyA9IEV4cG9uZW50aWFsQmFja29mZlRpbWVTbGljZSAqIE1hdGgucG93KDIsIHJldHJ5TnVtYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSgpLCBtcykpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NSZXNwb25zZShyZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlcy5tZXNzYWdlLnN0YXR1c0NvZGUgfHwgMDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gbm90IGZvdW5kIGxlYWRzIHRvIG51bGwgb2JqIHJldHVybmVkXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPT09IEh0dHBDb2Rlcy5Ob3RGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSByZXN1bHQgZnJvbSB0aGUgYm9keVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRhdGVUaW1lRGVzZXJpYWxpemVyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGEudmFsdWVPZigpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG9iajtcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudHM7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudHMgPSB5aWVsZCByZXMucmVhZEJvZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRzICYmIGNvbnRlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZGVzZXJpYWxpemVEYXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoY29udGVudHMsIGRhdGVUaW1lRGVzZXJpYWxpemVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoY29udGVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzdWx0ID0gb2JqO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMgPSByZXMubWVzc2FnZS5oZWFkZXJzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEludmFsaWQgcmVzb3VyY2UgKGNvbnRlbnRzIG5vdCBqc29uKTsgIGxlYXZpbmcgcmVzdWx0IG9iaiBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCAzeHggcmVkaXJlY3RzIGFyZSBoYW5kbGVkIGJ5IHRoZSBodHRwIGxheWVyLlxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID4gMjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtc2c7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGV4Y2VwdGlvbi9lcnJvciBpbiBib2R5LCBhdHRlbXB0IHRvIGdldCBiZXR0ZXIgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iaiAmJiBvYmoubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gb2JqLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGVudHMgJiYgY29udGVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgbWF5IGJlIHRoZSBjYXNlIHRoYXQgdGhlIGV4Y2VwdGlvbiBpcyBpbiB0aGUgYm9keSBtZXNzYWdlIGFzIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gY29udGVudHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBgRmFpbGVkIHJlcXVlc3Q6ICgke3N0YXR1c0NvZGV9KWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEh0dHBDbGllbnRFcnJvcihtc2csIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICBlcnIucmVzdWx0ID0gcmVzcG9uc2UucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwQ2xpZW50ID0gSHR0cENsaWVudDtcbmNvbnN0IGxvd2VyY2FzZUtleXMgPSAob2JqKSA9PiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgoYywgaykgPT4gKChjW2sudG9Mb3dlckNhc2UoKV0gPSBvYmpba10pLCBjKSwge30pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNoZWNrQnlwYXNzID0gZXhwb3J0cy5nZXRQcm94eVVybCA9IHZvaWQgMDtcbmZ1bmN0aW9uIGdldFByb3h5VXJsKHJlcVVybCkge1xuICAgIGNvbnN0IHVzaW5nU3NsID0gcmVxVXJsLnByb3RvY29sID09PSAnaHR0cHM6JztcbiAgICBpZiAoY2hlY2tCeXBhc3MocmVxVXJsKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBwcm94eVZhciA9ICgoKSA9PiB7XG4gICAgICAgIGlmICh1c2luZ1NzbCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52WydodHRwc19wcm94eSddIHx8IHByb2Nlc3MuZW52WydIVFRQU19QUk9YWSddO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52WydodHRwX3Byb3h5J10gfHwgcHJvY2Vzcy5lbnZbJ0hUVFBfUFJPWFknXTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG4gICAgaWYgKHByb3h5VmFyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVVJMKHByb3h5VmFyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRQcm94eVVybCA9IGdldFByb3h5VXJsO1xuZnVuY3Rpb24gY2hlY2tCeXBhc3MocmVxVXJsKSB7XG4gICAgaWYgKCFyZXFVcmwuaG9zdG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBub1Byb3h5ID0gcHJvY2Vzcy5lbnZbJ25vX3Byb3h5J10gfHwgcHJvY2Vzcy5lbnZbJ05PX1BST1hZJ10gfHwgJyc7XG4gICAgaWYgKCFub1Byb3h5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gRGV0ZXJtaW5lIHRoZSByZXF1ZXN0IHBvcnRcbiAgICBsZXQgcmVxUG9ydDtcbiAgICBpZiAocmVxVXJsLnBvcnQpIHtcbiAgICAgICAgcmVxUG9ydCA9IE51bWJlcihyZXFVcmwucG9ydCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlcVVybC5wcm90b2NvbCA9PT0gJ2h0dHA6Jykge1xuICAgICAgICByZXFQb3J0ID0gODA7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlcVVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOicpIHtcbiAgICAgICAgcmVxUG9ydCA9IDQ0MztcbiAgICB9XG4gICAgLy8gRm9ybWF0IHRoZSByZXF1ZXN0IGhvc3RuYW1lIGFuZCBob3N0bmFtZSB3aXRoIHBvcnRcbiAgICBjb25zdCB1cHBlclJlcUhvc3RzID0gW3JlcVVybC5ob3N0bmFtZS50b1VwcGVyQ2FzZSgpXTtcbiAgICBpZiAodHlwZW9mIHJlcVBvcnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHVwcGVyUmVxSG9zdHMucHVzaChgJHt1cHBlclJlcUhvc3RzWzBdfToke3JlcVBvcnR9YCk7XG4gICAgfVxuICAgIC8vIENvbXBhcmUgcmVxdWVzdCBob3N0IGFnYWluc3Qgbm9wcm94eVxuICAgIGZvciAoY29uc3QgdXBwZXJOb1Byb3h5SXRlbSBvZiBub1Byb3h5XG4gICAgICAgIC5zcGxpdCgnLCcpXG4gICAgICAgIC5tYXAoeCA9PiB4LnRyaW0oKS50b1VwcGVyQ2FzZSgpKVxuICAgICAgICAuZmlsdGVyKHggPT4geCkpIHtcbiAgICAgICAgaWYgKHVwcGVyUmVxSG9zdHMuc29tZSh4ID0+IHggPT09IHVwcGVyTm9Qcm94eUl0ZW0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmNoZWNrQnlwYXNzID0gY2hlY2tCeXBhc3M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm94eS5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL3R1bm5lbCcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbmV0ID0gcmVxdWlyZSgnbmV0Jyk7XG52YXIgdGxzID0gcmVxdWlyZSgndGxzJyk7XG52YXIgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbnZhciBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG52YXIgZXZlbnRzID0gcmVxdWlyZSgnZXZlbnRzJyk7XG52YXIgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuXG5leHBvcnRzLmh0dHBPdmVySHR0cCA9IGh0dHBPdmVySHR0cDtcbmV4cG9ydHMuaHR0cHNPdmVySHR0cCA9IGh0dHBzT3Zlckh0dHA7XG5leHBvcnRzLmh0dHBPdmVySHR0cHMgPSBodHRwT3Zlckh0dHBzO1xuZXhwb3J0cy5odHRwc092ZXJIdHRwcyA9IGh0dHBzT3Zlckh0dHBzO1xuXG5cbmZ1bmN0aW9uIGh0dHBPdmVySHR0cChvcHRpb25zKSB7XG4gIHZhciBhZ2VudCA9IG5ldyBUdW5uZWxpbmdBZ2VudChvcHRpb25zKTtcbiAgYWdlbnQucmVxdWVzdCA9IGh0dHAucmVxdWVzdDtcbiAgcmV0dXJuIGFnZW50O1xufVxuXG5mdW5jdGlvbiBodHRwc092ZXJIdHRwKG9wdGlvbnMpIHtcbiAgdmFyIGFnZW50ID0gbmV3IFR1bm5lbGluZ0FnZW50KG9wdGlvbnMpO1xuICBhZ2VudC5yZXF1ZXN0ID0gaHR0cC5yZXF1ZXN0O1xuICBhZ2VudC5jcmVhdGVTb2NrZXQgPSBjcmVhdGVTZWN1cmVTb2NrZXQ7XG4gIGFnZW50LmRlZmF1bHRQb3J0ID0gNDQzO1xuICByZXR1cm4gYWdlbnQ7XG59XG5cbmZ1bmN0aW9uIGh0dHBPdmVySHR0cHMob3B0aW9ucykge1xuICB2YXIgYWdlbnQgPSBuZXcgVHVubmVsaW5nQWdlbnQob3B0aW9ucyk7XG4gIGFnZW50LnJlcXVlc3QgPSBodHRwcy5yZXF1ZXN0O1xuICByZXR1cm4gYWdlbnQ7XG59XG5cbmZ1bmN0aW9uIGh0dHBzT3Zlckh0dHBzKG9wdGlvbnMpIHtcbiAgdmFyIGFnZW50ID0gbmV3IFR1bm5lbGluZ0FnZW50KG9wdGlvbnMpO1xuICBhZ2VudC5yZXF1ZXN0ID0gaHR0cHMucmVxdWVzdDtcbiAgYWdlbnQuY3JlYXRlU29ja2V0ID0gY3JlYXRlU2VjdXJlU29ja2V0O1xuICBhZ2VudC5kZWZhdWx0UG9ydCA9IDQ0MztcbiAgcmV0dXJuIGFnZW50O1xufVxuXG5cbmZ1bmN0aW9uIFR1bm5lbGluZ0FnZW50KG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBzZWxmLnByb3h5T3B0aW9ucyA9IHNlbGYub3B0aW9ucy5wcm94eSB8fCB7fTtcbiAgc2VsZi5tYXhTb2NrZXRzID0gc2VsZi5vcHRpb25zLm1heFNvY2tldHMgfHwgaHR0cC5BZ2VudC5kZWZhdWx0TWF4U29ja2V0cztcbiAgc2VsZi5yZXF1ZXN0cyA9IFtdO1xuICBzZWxmLnNvY2tldHMgPSBbXTtcblxuICBzZWxmLm9uKCdmcmVlJywgZnVuY3Rpb24gb25GcmVlKHNvY2tldCwgaG9zdCwgcG9ydCwgbG9jYWxBZGRyZXNzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0b09wdGlvbnMoaG9zdCwgcG9ydCwgbG9jYWxBZGRyZXNzKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2VsZi5yZXF1ZXN0cy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgdmFyIHBlbmRpbmcgPSBzZWxmLnJlcXVlc3RzW2ldO1xuICAgICAgaWYgKHBlbmRpbmcuaG9zdCA9PT0gb3B0aW9ucy5ob3N0ICYmIHBlbmRpbmcucG9ydCA9PT0gb3B0aW9ucy5wb3J0KSB7XG4gICAgICAgIC8vIERldGVjdCB0aGUgcmVxdWVzdCB0byBjb25uZWN0IHNhbWUgb3JpZ2luIHNlcnZlcixcbiAgICAgICAgLy8gcmV1c2UgdGhlIGNvbm5lY3Rpb24uXG4gICAgICAgIHNlbGYucmVxdWVzdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICBwZW5kaW5nLnJlcXVlc3Qub25Tb2NrZXQoc29ja2V0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBzb2NrZXQuZGVzdHJveSgpO1xuICAgIHNlbGYucmVtb3ZlU29ja2V0KHNvY2tldCk7XG4gIH0pO1xufVxudXRpbC5pbmhlcml0cyhUdW5uZWxpbmdBZ2VudCwgZXZlbnRzLkV2ZW50RW1pdHRlcik7XG5cblR1bm5lbGluZ0FnZW50LnByb3RvdHlwZS5hZGRSZXF1ZXN0ID0gZnVuY3Rpb24gYWRkUmVxdWVzdChyZXEsIGhvc3QsIHBvcnQsIGxvY2FsQWRkcmVzcykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBvcHRpb25zID0gbWVyZ2VPcHRpb25zKHtyZXF1ZXN0OiByZXF9LCBzZWxmLm9wdGlvbnMsIHRvT3B0aW9ucyhob3N0LCBwb3J0LCBsb2NhbEFkZHJlc3MpKTtcblxuICBpZiAoc2VsZi5zb2NrZXRzLmxlbmd0aCA+PSB0aGlzLm1heFNvY2tldHMpIHtcbiAgICAvLyBXZSBhcmUgb3ZlciBsaW1pdCBzbyB3ZSdsbCBhZGQgaXQgdG8gdGhlIHF1ZXVlLlxuICAgIHNlbGYucmVxdWVzdHMucHVzaChvcHRpb25zKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiB3ZSBhcmUgdW5kZXIgbWF4U29ja2V0cyBjcmVhdGUgYSBuZXcgb25lLlxuICBzZWxmLmNyZWF0ZVNvY2tldChvcHRpb25zLCBmdW5jdGlvbihzb2NrZXQpIHtcbiAgICBzb2NrZXQub24oJ2ZyZWUnLCBvbkZyZWUpO1xuICAgIHNvY2tldC5vbignY2xvc2UnLCBvbkNsb3NlT3JSZW1vdmUpO1xuICAgIHNvY2tldC5vbignYWdlbnRSZW1vdmUnLCBvbkNsb3NlT3JSZW1vdmUpO1xuICAgIHJlcS5vblNvY2tldChzb2NrZXQpO1xuXG4gICAgZnVuY3Rpb24gb25GcmVlKCkge1xuICAgICAgc2VsZi5lbWl0KCdmcmVlJywgc29ja2V0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNsb3NlT3JSZW1vdmUoZXJyKSB7XG4gICAgICBzZWxmLnJlbW92ZVNvY2tldChzb2NrZXQpO1xuICAgICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdmcmVlJywgb25GcmVlKTtcbiAgICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbkNsb3NlT3JSZW1vdmUpO1xuICAgICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdhZ2VudFJlbW92ZScsIG9uQ2xvc2VPclJlbW92ZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblR1bm5lbGluZ0FnZW50LnByb3RvdHlwZS5jcmVhdGVTb2NrZXQgPSBmdW5jdGlvbiBjcmVhdGVTb2NrZXQob3B0aW9ucywgY2IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcGxhY2Vob2xkZXIgPSB7fTtcbiAgc2VsZi5zb2NrZXRzLnB1c2gocGxhY2Vob2xkZXIpO1xuXG4gIHZhciBjb25uZWN0T3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh7fSwgc2VsZi5wcm94eU9wdGlvbnMsIHtcbiAgICBtZXRob2Q6ICdDT05ORUNUJyxcbiAgICBwYXRoOiBvcHRpb25zLmhvc3QgKyAnOicgKyBvcHRpb25zLnBvcnQsXG4gICAgYWdlbnQ6IGZhbHNlLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIGhvc3Q6IG9wdGlvbnMuaG9zdCArICc6JyArIG9wdGlvbnMucG9ydFxuICAgIH1cbiAgfSk7XG4gIGlmIChvcHRpb25zLmxvY2FsQWRkcmVzcykge1xuICAgIGNvbm5lY3RPcHRpb25zLmxvY2FsQWRkcmVzcyA9IG9wdGlvbnMubG9jYWxBZGRyZXNzO1xuICB9XG4gIGlmIChjb25uZWN0T3B0aW9ucy5wcm94eUF1dGgpIHtcbiAgICBjb25uZWN0T3B0aW9ucy5oZWFkZXJzID0gY29ubmVjdE9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICBjb25uZWN0T3B0aW9ucy5oZWFkZXJzWydQcm94eS1BdXRob3JpemF0aW9uJ10gPSAnQmFzaWMgJyArXG4gICAgICAgIG5ldyBCdWZmZXIoY29ubmVjdE9wdGlvbnMucHJveHlBdXRoKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIH1cblxuICBkZWJ1ZygnbWFraW5nIENPTk5FQ1QgcmVxdWVzdCcpO1xuICB2YXIgY29ubmVjdFJlcSA9IHNlbGYucmVxdWVzdChjb25uZWN0T3B0aW9ucyk7XG4gIGNvbm5lY3RSZXEudXNlQ2h1bmtlZEVuY29kaW5nQnlEZWZhdWx0ID0gZmFsc2U7IC8vIGZvciB2MC42XG4gIGNvbm5lY3RSZXEub25jZSgncmVzcG9uc2UnLCBvblJlc3BvbnNlKTsgLy8gZm9yIHYwLjZcbiAgY29ubmVjdFJlcS5vbmNlKCd1cGdyYWRlJywgb25VcGdyYWRlKTsgICAvLyBmb3IgdjAuNlxuICBjb25uZWN0UmVxLm9uY2UoJ2Nvbm5lY3QnLCBvbkNvbm5lY3QpOyAgIC8vIGZvciB2MC43IG9yIGxhdGVyXG4gIGNvbm5lY3RSZXEub25jZSgnZXJyb3InLCBvbkVycm9yKTtcbiAgY29ubmVjdFJlcS5lbmQoKTtcblxuICBmdW5jdGlvbiBvblJlc3BvbnNlKHJlcykge1xuICAgIC8vIFZlcnkgaGFja3kuIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIGF2b2lkIGh0dHAtcGFyc2VyIGxlYWtzLlxuICAgIHJlcy51cGdyYWRlID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVXBncmFkZShyZXMsIHNvY2tldCwgaGVhZCkge1xuICAgIC8vIEhhY2t5LlxuICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICBvbkNvbm5lY3QocmVzLCBzb2NrZXQsIGhlYWQpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Db25uZWN0KHJlcywgc29ja2V0LCBoZWFkKSB7XG4gICAgY29ubmVjdFJlcS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICBpZiAocmVzLnN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgZGVidWcoJ3R1bm5lbGluZyBzb2NrZXQgY291bGQgbm90IGJlIGVzdGFibGlzaGVkLCBzdGF0dXNDb2RlPSVkJyxcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUpO1xuICAgICAgc29ja2V0LmRlc3Ryb3koKTtcbiAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcigndHVubmVsaW5nIHNvY2tldCBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQsICcgK1xuICAgICAgICAnc3RhdHVzQ29kZT0nICsgcmVzLnN0YXR1c0NvZGUpO1xuICAgICAgZXJyb3IuY29kZSA9ICdFQ09OTlJFU0VUJztcbiAgICAgIG9wdGlvbnMucmVxdWVzdC5lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICAgIHNlbGYucmVtb3ZlU29ja2V0KHBsYWNlaG9sZGVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGhlYWQubGVuZ3RoID4gMCkge1xuICAgICAgZGVidWcoJ2dvdCBpbGxlZ2FsIHJlc3BvbnNlIGJvZHkgZnJvbSBwcm94eScpO1xuICAgICAgc29ja2V0LmRlc3Ryb3koKTtcbiAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcignZ290IGlsbGVnYWwgcmVzcG9uc2UgYm9keSBmcm9tIHByb3h5Jyk7XG4gICAgICBlcnJvci5jb2RlID0gJ0VDT05OUkVTRVQnO1xuICAgICAgb3B0aW9ucy5yZXF1ZXN0LmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgc2VsZi5yZW1vdmVTb2NrZXQocGxhY2Vob2xkZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWJ1ZygndHVubmVsaW5nIGNvbm5lY3Rpb24gaGFzIGVzdGFibGlzaGVkJyk7XG4gICAgc2VsZi5zb2NrZXRzW3NlbGYuc29ja2V0cy5pbmRleE9mKHBsYWNlaG9sZGVyKV0gPSBzb2NrZXQ7XG4gICAgcmV0dXJuIGNiKHNvY2tldCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkVycm9yKGNhdXNlKSB7XG4gICAgY29ubmVjdFJlcS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgIGRlYnVnKCd0dW5uZWxpbmcgc29ja2V0IGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCwgY2F1c2U9JXNcXG4nLFxuICAgICAgICAgIGNhdXNlLm1lc3NhZ2UsIGNhdXNlLnN0YWNrKTtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ3R1bm5lbGluZyBzb2NrZXQgY291bGQgbm90IGJlIGVzdGFibGlzaGVkLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhdXNlPScgKyBjYXVzZS5tZXNzYWdlKTtcbiAgICBlcnJvci5jb2RlID0gJ0VDT05OUkVTRVQnO1xuICAgIG9wdGlvbnMucmVxdWVzdC5lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICBzZWxmLnJlbW92ZVNvY2tldChwbGFjZWhvbGRlcik7XG4gIH1cbn07XG5cblR1bm5lbGluZ0FnZW50LnByb3RvdHlwZS5yZW1vdmVTb2NrZXQgPSBmdW5jdGlvbiByZW1vdmVTb2NrZXQoc29ja2V0KSB7XG4gIHZhciBwb3MgPSB0aGlzLnNvY2tldHMuaW5kZXhPZihzb2NrZXQpXG4gIGlmIChwb3MgPT09IC0xKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuc29ja2V0cy5zcGxpY2UocG9zLCAxKTtcblxuICB2YXIgcGVuZGluZyA9IHRoaXMucmVxdWVzdHMuc2hpZnQoKTtcbiAgaWYgKHBlbmRpbmcpIHtcbiAgICAvLyBJZiB3ZSBoYXZlIHBlbmRpbmcgcmVxdWVzdHMgYW5kIGEgc29ja2V0IGdldHMgY2xvc2VkIGEgbmV3IG9uZVxuICAgIC8vIG5lZWRzIHRvIGJlIGNyZWF0ZWQgdG8gdGFrZSBvdmVyIGluIHRoZSBwb29sIGZvciB0aGUgb25lIHRoYXQgY2xvc2VkLlxuICAgIHRoaXMuY3JlYXRlU29ja2V0KHBlbmRpbmcsIGZ1bmN0aW9uKHNvY2tldCkge1xuICAgICAgcGVuZGluZy5yZXF1ZXN0Lm9uU29ja2V0KHNvY2tldCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVNlY3VyZVNvY2tldChvcHRpb25zLCBjYikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIFR1bm5lbGluZ0FnZW50LnByb3RvdHlwZS5jcmVhdGVTb2NrZXQuY2FsbChzZWxmLCBvcHRpb25zLCBmdW5jdGlvbihzb2NrZXQpIHtcbiAgICB2YXIgaG9zdEhlYWRlciA9IG9wdGlvbnMucmVxdWVzdC5nZXRIZWFkZXIoJ2hvc3QnKTtcbiAgICB2YXIgdGxzT3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh7fSwgc2VsZi5vcHRpb25zLCB7XG4gICAgICBzb2NrZXQ6IHNvY2tldCxcbiAgICAgIHNlcnZlcm5hbWU6IGhvc3RIZWFkZXIgPyBob3N0SGVhZGVyLnJlcGxhY2UoLzouKiQvLCAnJykgOiBvcHRpb25zLmhvc3RcbiAgICB9KTtcblxuICAgIC8vIDAgaXMgZHVtbXkgcG9ydCBmb3IgdjAuNlxuICAgIHZhciBzZWN1cmVTb2NrZXQgPSB0bHMuY29ubmVjdCgwLCB0bHNPcHRpb25zKTtcbiAgICBzZWxmLnNvY2tldHNbc2VsZi5zb2NrZXRzLmluZGV4T2Yoc29ja2V0KV0gPSBzZWN1cmVTb2NrZXQ7XG4gICAgY2Ioc2VjdXJlU29ja2V0KTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gdG9PcHRpb25zKGhvc3QsIHBvcnQsIGxvY2FsQWRkcmVzcykge1xuICBpZiAodHlwZW9mIGhvc3QgPT09ICdzdHJpbmcnKSB7IC8vIHNpbmNlIHYwLjEwXG4gICAgcmV0dXJuIHtcbiAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICBwb3J0OiBwb3J0LFxuICAgICAgbG9jYWxBZGRyZXNzOiBsb2NhbEFkZHJlc3NcbiAgICB9O1xuICB9XG4gIHJldHVybiBob3N0OyAvLyBmb3IgdjAuMTEgb3IgbGF0ZXJcbn1cblxuZnVuY3Rpb24gbWVyZ2VPcHRpb25zKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIG92ZXJyaWRlcyA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAodHlwZW9mIG92ZXJyaWRlcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob3ZlcnJpZGVzKTtcbiAgICAgIGZvciAodmFyIGogPSAwLCBrZXlMZW4gPSBrZXlzLmxlbmd0aDsgaiA8IGtleUxlbjsgKytqKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1tqXTtcbiAgICAgICAgaWYgKG92ZXJyaWRlc1trXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGFyZ2V0W2tdID0gb3ZlcnJpZGVzW2tdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cblxudmFyIGRlYnVnO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfREVCVUcgJiYgL1xcYnR1bm5lbFxcYi8udGVzdChwcm9jZXNzLmVudi5OT0RFX0RFQlVHKSkge1xuICBkZWJ1ZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICBhcmdzWzBdID0gJ1RVTk5FTDogJyArIGFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3MudW5zaGlmdCgnVFVOTkVMOicpO1xuICAgIH1cbiAgICBjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICB9XG59IGVsc2Uge1xuICBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG59XG5leHBvcnRzLmRlYnVnID0gZGVidWc7IC8vIGZvciB0ZXN0XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJhc3NlcnRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXZlbnRzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cHNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibmV0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm9zXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidGxzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInV0aWxcIik7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwibm9kZTpmc1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIm5vZGU6cGF0aFwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIm5vZGU6Y2hpbGRfcHJvY2Vzc1wiKTsiLCJpbXBvcnQge1xuICBnZXRQYWNrYWdlSnNvbixcbiAgbW92ZUJ1aWxkT3V0cHV0SW50b0ltcGxlbWVudERpcmVjdG9yeSxcbn0gZnJvbSAnLi4vLi4vbGlicy9wcm9qZWN0RXhwbG9yZXInO1xuaW1wb3J0ICogYXMgY29yZSBmcm9tICdAYWN0aW9ucy9jb3JlJztcblxucnVuKEpTT04ucGFyc2UoY29yZS5nZXRJbnB1dCgnZnVsbHBhdGhzJykpKTtcblxuZnVuY3Rpb24gcnVuKGZ1bGxwYXRocykge1xuICBjb25zdCBtb3ZlQnVpbGRPdXRwdXQgPSAoZnVsbHBhdGgpID0+IHtcbiAgICBjb25zdCBwYWNrYWdlSnNvbiA9IGdldFBhY2thZ2VKc29uKGZ1bGxwYXRoKTtcbiAgICBpZiAoIXBhY2thZ2VKc29uKSB7XG4gICAgICBjb25zb2xlLmxvZygncGFja2FnZS5qc29uIG5vdCBmb3VuZC4gZXhpdC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFja2FnZUpzb24uZGVwbG95ID09PSBmYWxzZSkge1xuICAgICAgY29uc29sZS5sb2coJ1NraXAgZGVwbG95LicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1vdmVCdWlsZE91dHB1dEludG9JbXBsZW1lbnREaXJlY3RvcnkoZnVsbHBhdGgpO1xuICB9O1xuXG4gIGZ1bGxwYXRocy5mb3JFYWNoKChmdWxscGF0aCkgPT4ge1xuICAgIGNvcmUuc3RhcnRHcm91cChgTW92ZSBvdXRwdXQgYXMgcGFyZW50IGRpcmVjdG9yeS4gdGFyZ2V0OiAke2Z1bGxwYXRofWApO1xuICAgIG1vdmVCdWlsZE91dHB1dChmdWxscGF0aCk7XG4gICAgY29yZS5lbmRHcm91cCgpO1xuICB9KTtcbn1cbiIsImltcG9ydCBmcyBmcm9tICdub2RlOmZzJztcbmltcG9ydCBwYXRoIGZyb20gJ25vZGU6cGF0aCc7XG5pbXBvcnQgY2hpbGRQcm9jZXNzIGZyb20gJ25vZGU6Y2hpbGRfcHJvY2Vzcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWNrYWdlSnNvbihwcm9qZWN0UGF0aCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhY2thZ2VKc29uUGF0aCA9IHBhdGgucmVzb2x2ZShwcm9qZWN0UGF0aCwgJ3BhY2thZ2UuanNvbicpO1xuICAgIGNvbnN0IGpzb24gPSBmcy5yZWFkRmlsZVN5bmMocGFja2FnZUpzb25QYXRoKS50b1N0cmluZygpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkJ1aWxkQ29tbWFuZEF0KHByb2plY3RQYXRoLCBlbnYgPSB7fSkge1xuICBjaGlsZFByb2Nlc3MuZXhlY1N5bmMoYG5wbSAtLXByZWZpeD1cIiR7cHJvamVjdFBhdGh9XCIgY2lgLCB7IHN0ZGlvOiAnaW5oZXJpdCcgfSk7XG5cbiAgY29uc3QgZW52VmFyaWFibGVzID0gT2JqZWN0LmVudHJpZXMoZW52KS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fT0ke3ZhbHVlfSBgKTtcbiAgY2hpbGRQcm9jZXNzLmV4ZWNTeW5jKGAke2VudlZhcmlhYmxlcy5qb2luKCcnKX1ucG0gLS1wcmVmaXg9XCIke3Byb2plY3RQYXRofVwiIHJ1biBidWlsZGAsIHsgc3RkaW86ICdpbmhlcml0JyB9KTtcbiAgXG4gIHJldHVybiBwcm9qZWN0UGF0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVCdWlsZE91dHB1dEludG9JbXBsZW1lbnREaXJlY3RvcnkocHJvamVjdFBhdGgpIHtcbiAgY29uc3QgcG9zc2libGVCdWlsZERpcmVjdG9yeSA9IFsnYnVpbGQnLCAnLm5leHQnLCAnZGlzdCddO1xuICBjb25zdCBzdWJEaXJlY3RvcmllcyA9IGZzLnJlYWRkaXJTeW5jKHByb2plY3RQYXRoKTtcblxuICBjb25zdCBidWlsZERpcmVjdG9yeSA9IHN1YkRpcmVjdG9yaWVzLmZpbmQoKGRpcikgPT5cbiAgICBwb3NzaWJsZUJ1aWxkRGlyZWN0b3J5LmluY2x1ZGVzKGRpcilcbiAgKTtcbiAgaWYgKCFidWlsZERpcmVjdG9yeSkge1xuICAgIGNvbnNvbGUubG9nKCdCdWlsZCBkaXJlY3Rvcnkgbm90IGZvdW5kLiBleGl0LicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNoaWxkUHJvY2Vzcy5leGVjU3luYyhcbiAgICBgbXYgLXYgJHtwYXRoLnJlc29sdmUocHJvamVjdFBhdGgsIGJ1aWxkRGlyZWN0b3J5LCAnKicpfSAke3Byb2plY3RQYXRofWAsXG4gICAgeyBzdGRpbzogJ2luaGVyaXQnIH0sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWFkbWVBdChwcm9qZWN0UGF0aCkge1xuICBjb25zdCBjb250ZW50cyA9IGZzLnJlYWRkaXJTeW5jKHByb2plY3RQYXRoKTtcbiAgY29uc3QgcmVhZG1lSW5kZXggPSBjb250ZW50c1xuICAgIC5tYXAocCA9PiBwLnRvTG93ZXJDYXNlKCkpXG4gICAgLmZpbmRJbmRleChwID0+IHAgPT09ICdyZWFkbWUubWQnKTtcbiAgaWYocmVhZG1lSW5kZXggPT09IC0xKSB7XG4gICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBmaW5kIFJFQURNRS5tZCBmaWxlOiAnLCBwcm9qZWN0UGF0aCk7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIFxuICBjb25zdCBmdWxscGF0aCA9IHBhdGgucmVzb2x2ZShwcm9qZWN0UGF0aCwgY29udGVudHNbcmVhZG1lSW5kZXhdKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVhZG1lOiBmcy5yZWFkRmlsZVN5bmMoZnVsbHBhdGgpLnRvU3RyaW5nKCksXG4gICAgICBmdWxscGF0aFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZygnR290IGFuIGVycm9yIHdoaWxlIHJlYWRpbmcgcmVhZG1lJyk7XG4gICAgY29uc29sZS53YXJuKGUpO1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIl9fY3JlYXRlQmluZGluZyIsInRoaXMiLCJPYmplY3QiLCJjcmVhdGUiLCJvIiwibSIsImsiLCJrMiIsInVuZGVmaW5lZCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsInYiLCJ2YWx1ZSIsIl9faW1wb3J0U3RhciIsIm1vZCIsIl9fZXNNb2R1bGUiLCJyZXN1bHQiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJleHBvcnRzIiwiaXNzdWUiLCJpc3N1ZUNvbW1hbmQiLCJvcyIsInV0aWxzXzEiLCJjb21tYW5kIiwicHJvcGVydGllcyIsIm1lc3NhZ2UiLCJjbWQiLCJDb21tYW5kIiwicHJvY2VzcyIsInN0ZG91dCIsIndyaXRlIiwidG9TdHJpbmciLCJFT0wiLCJuYW1lIiwiY29uc3RydWN0b3IiLCJjbWRTdHIiLCJrZXlzIiwibGVuZ3RoIiwiZmlyc3QiLCJrZXkiLCJ2YWwiLCJzIiwidG9Db21tYW5kVmFsdWUiLCJyZXBsYWNlIiwiZXNjYXBlRGF0YSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiZ2V0SURUb2tlbiIsImdldFN0YXRlIiwic2F2ZVN0YXRlIiwiZ3JvdXAiLCJlbmRHcm91cCIsInN0YXJ0R3JvdXAiLCJpbmZvIiwibm90aWNlIiwid2FybmluZyIsImVycm9yIiwiZGVidWciLCJpc0RlYnVnIiwic2V0RmFpbGVkIiwic2V0Q29tbWFuZEVjaG8iLCJzZXRPdXRwdXQiLCJnZXRCb29sZWFuSW5wdXQiLCJnZXRNdWx0aWxpbmVJbnB1dCIsImdldElucHV0IiwiYWRkUGF0aCIsInNldFNlY3JldCIsImV4cG9ydFZhcmlhYmxlIiwiRXhpdENvZGUiLCJjb21tYW5kXzEiLCJmaWxlX2NvbW1hbmRfMSIsInBhdGgiLCJvaWRjX3V0aWxzXzEiLCJvcHRpb25zIiwiZW52IiwidG9VcHBlckNhc2UiLCJyZXF1aXJlZCIsIkVycm9yIiwidHJpbVdoaXRlc3BhY2UiLCJ0cmltIiwidG9Db21tYW5kUHJvcGVydGllcyIsImNvbnZlcnRlZFZhbCIsImRlbGltaXRlciIsImNvbW1hbmRWYWx1ZSIsInNlY3JldCIsImlucHV0UGF0aCIsInNwbGl0IiwiZmlsdGVyIiwieCIsImluY2x1ZGVzIiwiVHlwZUVycm9yIiwiZW5hYmxlZCIsImV4aXRDb2RlIiwiRmFpbHVyZSIsImZuIiwiYXVkIiwiT2lkY0NsaWVudCIsInN1bW1hcnlfMSIsInN1bW1hcnkiLCJzdW1tYXJ5XzIiLCJtYXJrZG93blN1bW1hcnkiLCJmcyIsImZpbGVQYXRoIiwiZXhpc3RzU3luYyIsImFwcGVuZEZpbGVTeW5jIiwiZW5jb2RpbmciLCJodHRwX2NsaWVudF8xIiwiYXV0aF8xIiwiY29yZV8xIiwic3RhdGljIiwiYWxsb3dSZXRyeSIsIm1heFJldHJ5IiwicmVxdWVzdE9wdGlvbnMiLCJhbGxvd1JldHJpZXMiLCJtYXhSZXRyaWVzIiwiSHR0cENsaWVudCIsIkJlYXJlckNyZWRlbnRpYWxIYW5kbGVyIiwiZ2V0UmVxdWVzdFRva2VuIiwidG9rZW4iLCJydW50aW1lVXJsIiwiaWRfdG9rZW5fdXJsIiwiX2EiLCJodHRwY2xpZW50IiwiY3JlYXRlSHR0cENsaWVudCIsInJlcyIsImdldEpzb24iLCJjYXRjaCIsInN0YXR1c0NvZGUiLCJpZF90b2tlbiIsImF1ZGllbmNlIiwiZ2V0SURUb2tlblVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImdldENhbGwiLCJTVU1NQVJZX0RPQ1NfVVJMIiwiU1VNTUFSWV9FTlZfVkFSIiwib3NfMSIsImZzXzEiLCJhY2Nlc3MiLCJhcHBlbmRGaWxlIiwid3JpdGVGaWxlIiwicHJvbWlzZXMiLCJfc3VtbWFyeSIsIl9idWZmZXIiLCJfZmlsZVBhdGgiLCJwYXRoRnJvbUVudiIsImNvbnN0YW50cyIsIlJfT0siLCJXX09LIiwid3JhcCIsInRhZyIsImNvbnRlbnQiLCJhdHRycyIsImh0bWxBdHRycyIsImVudHJpZXMiLCJtYXAiLCJqb2luIiwib3ZlcndyaXRlIiwid3JpdGVGdW5jIiwiZW1wdHlCdWZmZXIiLCJjbGVhciIsInN0cmluZ2lmeSIsImlzRW1wdHlCdWZmZXIiLCJhZGRSYXciLCJ0ZXh0IiwiYWRkRU9MIiwiYWRkQ29kZUJsb2NrIiwiY29kZSIsImxhbmciLCJhc3NpZ24iLCJlbGVtZW50IiwiYWRkTGlzdCIsIml0ZW1zIiwib3JkZXJlZCIsImxpc3RJdGVtcyIsIml0ZW0iLCJhZGRUYWJsZSIsInJvd3MiLCJ0YWJsZUJvZHkiLCJyb3ciLCJjZWxscyIsImNlbGwiLCJoZWFkZXIiLCJkYXRhIiwiY29sc3BhbiIsInJvd3NwYW4iLCJhZGREZXRhaWxzIiwibGFiZWwiLCJhZGRJbWFnZSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwiYWRkSGVhZGluZyIsImxldmVsIiwiYWxsb3dlZFRhZyIsImFkZFNlcGFyYXRvciIsImFkZEJyZWFrIiwiYWRkUXVvdGUiLCJjaXRlIiwiYWRkTGluayIsImhyZWYiLCJpbnB1dCIsIlN0cmluZyIsIkpTT04iLCJhbm5vdGF0aW9uUHJvcGVydGllcyIsInRpdGxlIiwiZmlsZSIsImxpbmUiLCJzdGFydExpbmUiLCJlbmRMaW5lIiwiY29sIiwic3RhcnRDb2x1bW4iLCJlbmRDb2x1bW4iLCJQZXJzb25hbEFjY2Vzc1Rva2VuQ3JlZGVudGlhbEhhbmRsZXIiLCJCYXNpY0NyZWRlbnRpYWxIYW5kbGVyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInByZXBhcmVSZXF1ZXN0IiwiaGVhZGVycyIsIkJ1ZmZlciIsImZyb20iLCJjYW5IYW5kbGVBdXRoZW50aWNhdGlvbiIsImhhbmRsZUF1dGhlbnRpY2F0aW9uIiwiaXNIdHRwcyIsIkh0dHBDbGllbnRSZXNwb25zZSIsIkh0dHBDbGllbnRFcnJvciIsImdldFByb3h5VXJsIiwiTWVkaWFUeXBlcyIsIkhlYWRlcnMiLCJIdHRwQ29kZXMiLCJodHRwIiwiaHR0cHMiLCJwbSIsInR1bm5lbCIsInNlcnZlclVybCIsInByb3h5VXJsIiwiVVJMIiwiSHR0cFJlZGlyZWN0Q29kZXMiLCJNb3ZlZFBlcm1hbmVudGx5IiwiUmVzb3VyY2VNb3ZlZCIsIlNlZU90aGVyIiwiVGVtcG9yYXJ5UmVkaXJlY3QiLCJQZXJtYW5lbnRSZWRpcmVjdCIsIkh0dHBSZXNwb25zZVJldHJ5Q29kZXMiLCJCYWRHYXRld2F5IiwiU2VydmljZVVuYXZhaWxhYmxlIiwiR2F0ZXdheVRpbWVvdXQiLCJSZXRyeWFibGVIdHRwVmVyYnMiLCJzdXBlciIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwicmVhZEJvZHkiLCJvdXRwdXQiLCJhbGxvYyIsIm9uIiwiY2h1bmsiLCJjb25jYXQiLCJyZXF1ZXN0VXJsIiwicHJvdG9jb2wiLCJ1c2VyQWdlbnQiLCJoYW5kbGVycyIsIl9pZ25vcmVTc2xFcnJvciIsIl9hbGxvd1JlZGlyZWN0cyIsIl9hbGxvd1JlZGlyZWN0RG93bmdyYWRlIiwiX21heFJlZGlyZWN0cyIsIl9hbGxvd1JldHJpZXMiLCJfbWF4UmV0cmllcyIsIl9rZWVwQWxpdmUiLCJfZGlzcG9zZWQiLCJpZ25vcmVTc2xFcnJvciIsIl9zb2NrZXRUaW1lb3V0Iiwic29ja2V0VGltZW91dCIsImFsbG93UmVkaXJlY3RzIiwiYWxsb3dSZWRpcmVjdERvd25ncmFkZSIsIm1heFJlZGlyZWN0cyIsIk1hdGgiLCJtYXgiLCJrZWVwQWxpdmUiLCJhZGRpdGlvbmFsSGVhZGVycyIsInJlcXVlc3QiLCJkZWwiLCJwb3N0IiwicGF0Y2giLCJwdXQiLCJoZWFkIiwic2VuZFN0cmVhbSIsInZlcmIiLCJzdHJlYW0iLCJBY2NlcHQiLCJfZ2V0RXhpc3RpbmdPckRlZmF1bHRIZWFkZXIiLCJBcHBsaWNhdGlvbkpzb24iLCJfcHJvY2Vzc1Jlc3BvbnNlIiwicG9zdEpzb24iLCJvYmoiLCJDb250ZW50VHlwZSIsInB1dEpzb24iLCJwYXRjaEpzb24iLCJwYXJzZWRVcmwiLCJfcHJlcGFyZVJlcXVlc3QiLCJtYXhUcmllcyIsInJlc3BvbnNlIiwibnVtVHJpZXMiLCJyZXF1ZXN0UmF3IiwiVW5hdXRob3JpemVkIiwiYXV0aGVudGljYXRpb25IYW5kbGVyIiwiaGFuZGxlciIsInJlZGlyZWN0c1JlbWFpbmluZyIsInJlZGlyZWN0VXJsIiwicGFyc2VkUmVkaXJlY3RVcmwiLCJob3N0bmFtZSIsInRvTG93ZXJDYXNlIiwiX3BlcmZvcm1FeHBvbmVudGlhbEJhY2tvZmYiLCJkaXNwb3NlIiwiX2FnZW50IiwiZGVzdHJveSIsInJlcXVlc3RSYXdXaXRoQ2FsbGJhY2siLCJlcnIiLCJvblJlc3VsdCIsImJ5dGVMZW5ndGgiLCJjYWxsYmFja0NhbGxlZCIsImhhbmRsZVJlc3VsdCIsInJlcSIsImh0dHBNb2R1bGUiLCJtc2ciLCJzb2NrZXQiLCJzb2NrIiwic2V0VGltZW91dCIsImVuZCIsInBpcGUiLCJnZXRBZ2VudCIsIl9nZXRBZ2VudCIsIm1ldGhvZCIsInVzaW5nU3NsIiwiZGVmYXVsdFBvcnQiLCJob3N0IiwicG9ydCIsInBhcnNlSW50IiwicGF0aG5hbWUiLCJzZWFyY2giLCJfbWVyZ2VIZWFkZXJzIiwiYWdlbnQiLCJsb3dlcmNhc2VLZXlzIiwiX2RlZmF1bHQiLCJjbGllbnRIZWFkZXIiLCJ1c2VQcm94eSIsIl9wcm94eUFnZW50IiwibWF4U29ja2V0cyIsImdsb2JhbEFnZW50IiwiYWdlbnRPcHRpb25zIiwicHJveHkiLCJwcm94eUF1dGgiLCJ0dW5uZWxBZ2VudCIsIm92ZXJIdHRwcyIsImh0dHBzT3Zlckh0dHBzIiwiaHR0cHNPdmVySHR0cCIsImh0dHBPdmVySHR0cHMiLCJodHRwT3Zlckh0dHAiLCJBZ2VudCIsInJlamVjdFVuYXV0aG9yaXplZCIsInJldHJ5TnVtYmVyIiwibWluIiwibXMiLCJwb3ciLCJjb250ZW50cyIsIk5vdEZvdW5kIiwiZGVzZXJpYWxpemVEYXRlcyIsInBhcnNlIiwiYSIsIkRhdGUiLCJpc05hTiIsInZhbHVlT2YiLCJyZWR1Y2UiLCJjIiwiY2hlY2tCeXBhc3MiLCJyZXFVcmwiLCJub1Byb3h5IiwicmVxUG9ydCIsIk51bWJlciIsInVwcGVyUmVxSG9zdHMiLCJwdXNoIiwidXBwZXJOb1Byb3h5SXRlbSIsInNvbWUiLCJwcm94eVZhciIsIm1vZHVsZSIsInRscyIsImV2ZW50cyIsInV0aWwiLCJUdW5uZWxpbmdBZ2VudCIsInNlbGYiLCJwcm94eU9wdGlvbnMiLCJkZWZhdWx0TWF4U29ja2V0cyIsInJlcXVlc3RzIiwic29ja2V0cyIsImxvY2FsQWRkcmVzcyIsInRvT3B0aW9ucyIsImkiLCJsZW4iLCJwZW5kaW5nIiwic3BsaWNlIiwib25Tb2NrZXQiLCJyZW1vdmVTb2NrZXQiLCJjcmVhdGVTZWN1cmVTb2NrZXQiLCJjYiIsImNyZWF0ZVNvY2tldCIsImhvc3RIZWFkZXIiLCJnZXRIZWFkZXIiLCJ0bHNPcHRpb25zIiwibWVyZ2VPcHRpb25zIiwic2VydmVybmFtZSIsInNlY3VyZVNvY2tldCIsImNvbm5lY3QiLCJpbmRleE9mIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwib3ZlcnJpZGVzIiwiaiIsImtleUxlbiIsImluaGVyaXRzIiwiRXZlbnRFbWl0dGVyIiwiYWRkUmVxdWVzdCIsIm9uRnJlZSIsImVtaXQiLCJvbkNsb3NlT3JSZW1vdmUiLCJyZW1vdmVMaXN0ZW5lciIsInBsYWNlaG9sZGVyIiwiY29ubmVjdE9wdGlvbnMiLCJjb25uZWN0UmVxIiwib25Db25uZWN0IiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwidXNlQ2h1bmtlZEVuY29kaW5nQnlEZWZhdWx0Iiwib25jZSIsInVwZ3JhZGUiLCJuZXh0VGljayIsImNhdXNlIiwic3RhY2siLCJwb3MiLCJzaGlmdCIsIk5PREVfREVCVUciLCJ0ZXN0IiwiYXJncyIsIkFycmF5Iiwic2xpY2UiLCJ1bnNoaWZ0IiwiY29uc29sZSIsInJlcXVpcmUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsImQiLCJkZWZpbml0aW9uIiwicHJvcCIsImNvcmUiLCJmb3JFYWNoIiwiZnVsbHBhdGgiLCJwYWNrYWdlSnNvbiIsInByb2plY3RQYXRoIiwicGFja2FnZUpzb25QYXRoIiwianNvbiIsImdldFBhY2thZ2VKc29uIiwiZGVwbG95IiwicG9zc2libGVCdWlsZERpcmVjdG9yeSIsImJ1aWxkRGlyZWN0b3J5IiwiZmluZCIsImRpciIsInN0ZGlvIiwibG9nIiwibW92ZUJ1aWxkT3V0cHV0SW50b0ltcGxlbWVudERpcmVjdG9yeSIsIm1vdmVCdWlsZE91dHB1dCJdLCJzb3VyY2VSb290IjoiIn0=